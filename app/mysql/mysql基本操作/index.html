
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
  
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="表的创建、约束、查询">
      
      
        <meta name="author" content="FYA">
      
      
        <link rel="canonical" href="https://121rh.com/app/mysql/mysql%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">       
    
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" charset="UTF-8">
    <meta name="baidu-site-verification" content="code-VSU9zlmT1E">
    <meta name="Keywords" content="Java开发,SpringBoot,SpringCloud...">
<!--添加部分-start-->
<script>
  document.addEventListener('visibilitychange',function(){
      if( document.visibilityState == 'hidden' ){
      normal_title = document.title;
      document.title = 'ヽ(●-`Д´-)ノ你丑你就走！';
      }else{
      document.title = 'ヾ(Ő∀Ő3)ノ你帅就回来！';
      setTimeout(function(){
          document.title = normal_title;
      }, 1200)
      }
  });
  </script>
<!-- 谷歌广告业务 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3116684949286138" crossorigin="anonymous"></script>
<!--添加部分-end-->

    
      
        <title>mysql基础 - FYA·心愿所往</title>
      
    
    
  
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    

    
  

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/extra.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/video-js.min.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/video.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/vssue.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/vssue.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

    
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mysql基础知识" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="FYA·心愿所往" class="md-header__button md-logo" aria-label="FYA·心愿所往" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FYA·心愿所往
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              mysql基础
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/msgrams/msgrams.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    msgrams
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      主页
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../life/" class="md-tabs__link">
      生活
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../timeline/" class="md-tabs__link">
      时间线
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../tags/" class="md-tabs__link">
      打标签
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../algs/" class="md-tabs__link">
      算法
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FYA·心愿所往" class="md-nav__button md-logo" aria-label="FYA·心愿所往" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    FYA·心愿所往
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/msgrams/msgrams.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    msgrams
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        主页
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../life/" class="md-nav__link">
        生活
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../timeline/" class="md-nav__link">
        时间线
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        打标签
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../algs/" class="md-nav__link">
        算法
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-五个部分" class="md-nav__link">
    1. 五个部分
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ddl_dml_创建数据库表" class="md-nav__link">
    2. DDL_DML_创建数据库表
  </a>
  
    <nav class="md-nav" aria-label="2. DDL_DML_创建数据库表">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#创建t_student表" class="md-nav__link">
    创建t_student表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#数据库表列类型" class="md-nav__link">
    数据库表列类型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dml_添加数据" class="md-nav__link">
    DML_添加数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dml_修改删除数据" class="md-nav__link">
    DML_修改，删除数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ddl_修改删除数据库表" class="md-nav__link">
    DDL_修改，删除数据库表
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-表的完整性约束" class="md-nav__link">
    3. 表的完整性约束
  </a>
  
    <nav class="md-nav" aria-label="3. 表的完整性约束">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#非外键约束" class="md-nav__link">
    非外键约束
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#总结" class="md-nav__link">
    总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4mysql基本操作" class="md-nav__link">
    4.mysql基本操作
  </a>
  
    <nav class="md-nav" aria-label="4.mysql基本操作">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#外键约束" class="md-nav__link">
    外键约束
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#外键策略" class="md-nav__link">
    外键策略
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5ddl和dml的补充" class="md-nav__link">
    5.DDL和DML的补充
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6dql-查询操作" class="md-nav__link">
    6.DQL-查询操作
  </a>
  
    <nav class="md-nav" aria-label="6.DQL-查询操作">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#单表查询" class="md-nav__link">
    单表查询
  </a>
  
    <nav class="md-nav" aria-label="单表查询">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-最简单的sql查询" class="md-nav__link">
    1) 最简单的SQL查询
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-where子句" class="md-nav__link">
    2) where子句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3使用函数" class="md-nav__link">
    3)使用函数
  </a>
  
    <nav class="md-nav" aria-label="3)使用函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#单行函数" class="md-nav__link">
    单行函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#多行函数" class="md-nav__link">
    多行函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4group_by分组" class="md-nav__link">
    4)group_by分组
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5having分组后筛选" class="md-nav__link">
    5)having分组后筛选
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6单表查询总结" class="md-nav__link">
    6)单表查询总结
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7单表查询练习" class="md-nav__link">
    7)单表查询练习
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#参考文章" class="md-nav__link">
    参考文章
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
<!-- 谷歌广告业务 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3116684949286138"
  crossorigin="anonymous"></script>
<!-- demoAD -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3116684949286138" data-ad-slot="3050105443"
  data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  
                
  <a href="https://github.com/msgrams/msgrams.github.io/edit/main/docs/app/mysql/mysql基本操作.md" title="编辑此页" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  

  <nav class="md-tags" >
    
      
        <a href="../../../tags/#mysql" class="md-tag">
          MySQL
        </a>
      
    
  </nav>



<h1 id="mysql基础知识">mysql基础知识<a class="headerlink" href="#mysql基础知识" title="Permanent link">🪁</a></h1>
<h2 id="1-五个部分">1. 五个部分<a class="headerlink" href="#1-五个部分" title="Permanent link">🪁</a></h2>
<p>1.DQL 数据查询语言（Data Query Language），用于数据查询，组合来查询一条或多条数据 </p>
<ul>
<li>select 子句</li>
<li>form 子句</li>
<li>where 子句  </li>
</ul>
<p>2.DML 数据操作语言（Data Manipulation Language），对数据进行增加、修改、删除  </p>
<ul>
<li>insert 增加数据  </li>
<li>update 修改数据  </li>
<li>delete 删除数据 </li>
</ul>
<p>3.DDL 数据定义语言（Data Definition Language，DDL）用针对是数据库对象（数据库、表、索引、视图、触发器、存储过程、函数）进行创建、修改和删除操作  </p>
<ul>
<li>create 创建数据库对象</li>
<li>alter 修改数据库对象</li>
<li>drop 删除数据库对象</li>
</ul>
<p>4.DCL 数据控制语言（Data Control Language，DCL）用来授予或回收访问 数据库的权限  </p>
<ul>
<li>grant 授予用户权限</li>
<li>revoke 回收授予权限</li>
</ul>
<p>5.TCL 事务控制语言（Transaction Control Language，TCL）用于数据库的事务管理</p>
<ul>
<li>start transaction 开启事务</li>
<li>commit 提交事务</li>
<li>rollback 回滚事务</li>
<li>set transaction 设置事务属性</li>
</ul>
<h2 id="2-ddl_dml_创建数据库表">2. DDL_DML_创建数据库表<a class="headerlink" href="#2-ddl_dml_创建数据库表" title="Permanent link">🪁</a></h2>
<h3 id="创建t_student表">创建t_student表<a class="headerlink" href="#创建t_student表" title="Permanent link">🪁</a></h3>
<ul>
<li>建立一张用来存储学生信息的表</li>
<li>字段包含学号、姓名、性别，年龄、入学日期、班级，email等信息</li>
<li>学号是主键 = 不能为空 +  唯一</li>
<li>姓名不能为空</li>
<li>性别默认值是男</li>
<li>Email唯一</li>
</ul>
<p>1.用Navicat图形界面连接mysql后，新建数据库，起个数据库名字mytestdb，字符集utf8mb4（对应utf-8字符集）<br />
2.新建查询</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="err">注释写法</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="o">#</span><span class="err">单行注释</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">-- 单行注释</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="cm">/*多行注释*/</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">-- 创建数据库表：</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="w"> </span><span class="o">#</span><span class="mi">6</span><span class="err">为显示的长度</span><span class="w"></span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="o">#</span><span class="mi">5</span><span class="err">为显示字符数量</span><span class="w"></span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="o">#</span><span class="mi">1</span><span class="err">个字符</span><span class="w"></span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="n">enterdate</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">入学日期</span><span class="w"></span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="n">classname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="n">email</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="c1">-- 查看表结构：展示表的字段信息</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="k">desc</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="c1">-- 查看表中数据</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="c1">-- 查看建表语句</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="k">show</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h3 id="数据库表列类型">数据库表列类型<a class="headerlink" href="#数据库表列类型" title="Permanent link">🪁</a></h3>
<p>1.整数类型</p>
<table>
<thead>
<tr>
<th align="left">整数类型</th>
<th align="left">大小</th>
<th align="left">表数范围</th>
<th align="left">表数范围</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">tinyint</td>
<td align="left">1字节</td>
<td align="left">-128,127</td>
<td align="left">0,255</td>
<td align="left">小整数值</td>
</tr>
<tr>
<td align="left">smallint</td>
<td align="left">2字节</td>
<td align="left">-32768,32767</td>
<td align="left">0,65535</td>
<td align="left">大整数值</td>
</tr>
<tr>
<td align="left">mediumint</td>
<td align="left">3字节</td>
<td align="left">-838868,8388607</td>
<td align="left">0~1677万</td>
<td align="left">大整数值</td>
</tr>
<tr>
<td align="left">int</td>
<td align="left">4个字节</td>
<td align="left">-21亿~21亿</td>
<td align="left">0~21亿</td>
<td align="left">一般整数</td>
</tr>
<tr>
<td align="left">bigint</td>
<td align="left">8个字节</td>
<td align="left">64位</td>
<td align="left"></td>
<td align="left">最大整数</td>
</tr>
</tbody>
</table>
<p>eg: int(4) 整数数值(显示宽度),"显示宽度"并不限制在列内保存值的范围，也不限制超过列的指定宽度的值的显示<br />
主键自增：不适用序列，整数类型，通过auto_increment</p>
<p>2.浮点数类型</p>
<table>
<thead>
<tr>
<th align="left">浮点数类型</th>
<th align="left">大小</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">float</td>
<td align="left">4字节</td>
<td align="left">单精度浮点数</td>
</tr>
<tr>
<td align="left">double</td>
<td align="left">8字节</td>
<td align="left">双精度浮点数</td>
</tr>
</tbody>
</table>
<p>eg: 浮点与整数类型不一样，浮点类型宽度不会自动扩充，score double(4,1) 总宽度4位，小数位1位，并且不会自动扩充。</p>
<p>3.字符串类型</p>
<table>
<thead>
<tr>
<th align="left">字符串类型</th>
<th align="left">大小</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">char(M)</td>
<td align="left">0~255字节</td>
<td align="left">允许长度0~M个字符的定长字符串</td>
</tr>
<tr>
<td align="left">varchar(M)</td>
<td align="left">0~65535字节</td>
<td align="left">允许长度0~M个字符的定长字符串</td>
</tr>
<tr>
<td align="left">blob</td>
<td align="left">binary large object</td>
<td align="left">二进制形式的长文本数据</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left"></td>
<td align="left">长文本数据</td>
</tr>
</tbody>
</table>
<p>eg：char 和 varchar类型相似，都用在存储较短的字符串，但是存储方式不同，**char类型长度固定，varchar类型长度可变**因为varchar类型能够根据字符串的实际长度来动态改变所占字节的大小，所以在不能明确该字段具体需要多少字符时推荐使用VARCHAR类型，这样可以大大地节约磁盘空间、提高存储效率。<br />
char和varchar表示的是字符的个数，而不是字节的个数</p>
<p>4.日期和时间类型</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">格式</th>
<th align="left">取值范围</th>
<th align="left">0值</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">date</td>
<td align="left">YYYY-MM-DD</td>
<td align="left">1000-01-01,9999-12-32</td>
<td align="left">0000-00-00</td>
</tr>
<tr>
<td align="left">datetime</td>
<td align="left">YYYY-MM-DD HH:MM:SS</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="dml_添加数据">DML_添加数据<a class="headerlink" href="#dml_添加数据" title="Permanent link">🪁</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">-- 查看表记录</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">-- 在t_student表中插入数据</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小红&#39;</span><span class="p">,</span><span class="s1">&#39;女&#39;</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="s1">&#39;2022-6-6&#39;</span><span class="p">,</span><span class="s1">&#39;java2班&#39;</span><span class="p">,</span><span class="s1">&#39;123@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;小黑&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;2021-5-5&#39;</span><span class="p">,</span><span class="s1">&#39;python3班&#39;</span><span class="p">,</span><span class="s1">&#39;235@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;2020.8.9&#39;</span><span class="p">,</span><span class="s1">&#39;mysql6班&#39;</span><span class="p">,</span><span class="s1">&#39;555@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="s1">&#39;小李&#39;</span><span class="p">,</span><span class="s1">&#39;女&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;2023-12-1&#39;</span><span class="p">,</span><span class="s1">&#39;java2班&#39;</span><span class="p">,</span><span class="s1">&#39;666@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;小龙&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="s1">&#39;2022-2-13&#39;</span><span class="p">,</span><span class="s1">&#39;python3班&#39;</span><span class="p">,</span><span class="s1">&#39;777@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="p">(</span><span class="n">sno</span><span class="p">,</span><span class="n">sname</span><span class="p">,</span><span class="n">sex</span><span class="p">,</span><span class="n">enterdate</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;小欧&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="s1">&#39;2023-5-25&#39;</span><span class="p">);</span><span class="w">    </span>
</code></pre></div>
<p><strong>注意</strong></p>
<ol>
<li>int类型 宽度为显示宽度，如果宽度超过设定的位数，则自动增大宽度int底层都是4个字节</li>
<li>时间方式：'2022-5-6' '2022.5.6' '2022/&#8538;'</li>
<li>字符串不区分单引号'' 和 双引号""</li>
<li>写入当前时间 now(),sysdate(),current_date()</li>
<li>char、varchar是字符个数，不是字节个数，可以使用binary，varbinary表示定长和不定长的字节个数</li>
<li>如果不是全字段插入数据的话，需要加入字段的名字</li>
</ol>
<h3 id="dml_修改删除数据">DML_修改，删除数据<a class="headerlink" href="#dml_修改删除数据" title="Permanent link">🪁</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">-- 修改表中数据</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;女&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">classname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;java2班&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">classname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;mysql6班&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">29</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">classname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;python3班&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1">-- 删除操作</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>注意</strong></p>
<ol>
<li>关键字，表名，字段名 不区分大小写</li>
<li>默认情况下，内容不区分大小写</li>
<li>删除操作from关键字不可少</li>
<li>修改、删除数据莫忘加限制条件</li>
</ol>
<h3 id="ddl_修改删除数据库表">DDL_修改，删除数据库表<a class="headerlink" href="#ddl_修改删除数据库表" title="Permanent link">🪁</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">-- 查看数据</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1">-- 修改表的结构(增加、修改、删除)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">-- 增加一列</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="o">#</span><span class="mi">5</span><span class="err">：总位数，</span><span class="mi">2</span><span class="err">：小数位数</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1">-- 增加一列（放在最前面）</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">first</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="c1">-- 增加一列（放在age列的后面）</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">age</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="c1">-- 删除一列</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="n">score</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="c1">-- 修改一列</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="c1">-- modify只修改列类型定义，不改变列的名字</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="nb">float</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="c1">-- change 修改列名以及列类型定义</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">score2</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="c1">-- 删除表</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h2 id="3-表的完整性约束">3. 表的完整性约束<a class="headerlink" href="#3-表的完整性约束" title="Permanent link">🪁</a></h2>
<blockquote>
<p>为防止不符合规范的数据存入数据库，在用户对数据进行插入、修改、删除等操作时，MySQL提供了一种机制来检查数据库中的数据是否满足规定的条件，以保证数据库中数据的准确性和一致性，这种机制就是完整性约束。  </p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">约束条件</th>
<th align="left">约束描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">primary key</td>
<td align="left">主键约束，约束字段的值**唯一标识对应的记录**</td>
</tr>
<tr>
<td align="center">not null</td>
<td align="left">非空约束，约束字段的值不能为空</td>
</tr>
<tr>
<td align="center">unique</td>
<td align="left">唯一约束，约束字段的值是唯一的</td>
</tr>
<tr>
<td align="center">check</td>
<td align="left">检查约束，限制某个字段的取值范围</td>
</tr>
<tr>
<td align="center">default</td>
<td align="left">默认值约束，约束字段的默认值</td>
</tr>
<tr>
<td align="center">auto_increment</td>
<td align="left">自动增加约束，约束字段的值自动递增</td>
</tr>
<tr>
<td align="center">foreign key</td>
<td align="left">外键约束，约束表与表之间的关系</td>
</tr>
</tbody>
</table>
<h3 id="非外键约束">非外键约束<a class="headerlink" href="#非外键约束" title="Permanent link">🪁</a></h3>
<p>1.sql代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- 创建数据库表</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_stu</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="n">sno学号是主键并自动递增</span><span class="w"></span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="n">sname姓名不能为空</span><span class="w"></span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;女&#39;</span><span class="p">),</span><span class="w"> </span><span class="o">#</span><span class="n">sex性别默认男</span><span class="w"></span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">age</span><span class="o">&gt;=</span><span class="mi">18</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="o">&lt;=</span><span class="mi">50</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="n">enterdate</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="n">classname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="n">email</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="o">#</span><span class="n">email地址唯一</span><span class="w"></span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="c1">-- 添加数据：</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2025/7/1&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2025/7/1&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="c1">--&gt; 1062 - Duplicate entry &#39;1&#39; for key &#39;t_stu.PRIMARY&#39;主键重复</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2025/7/1&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="c1">--&gt; 1062 - Duplicate entry &#39;xz@136.com&#39; for key &#39;t_stu.email&#39;违反唯一约束</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2025/7/1&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="c1">--&gt; 3819 - Check constraint &#39;t_stu_chk_1&#39; is violated.违反检查约束</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2025/7/1&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;x@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="c1">--&gt; 1048 - Column &#39;sname&#39; cannot be null 不能为null</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="c1">-- 如果主键没有设定值，或者用null.default都可以完成主键自增的效果</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="p">(</span><span class="n">sname</span><span class="p">,</span><span class="n">enterdate</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;小红&#39;</span><span class="p">,</span><span class="s1">&#39;2021/7/9&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小明&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="s1">&#39;2022/8/21&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xm@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="k">default</span><span class="p">,</span><span class="s1">&#39;小刚&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="s1">&#39;2022/5/12&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xgg@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="c1">-- 如果sql报错，可能主键就浪费了，后续插入的主键是不连号的，我们主键也不要求连号的</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小龙&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2023-9-1&#39;</span><span class="p">,</span><span class="s1">&#39;java01班&#39;</span><span class="p">,</span><span class="s1">&#39;xm@126.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="c1">-- 查看数据：</span>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_stu</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>2.约束从作用上分为两类</p>
<ul>
<li>表级约束：可以约束表中任意一个或多个字段。与列定义相互独立，不包含在列定义中；与定义用'，'分隔；必须指出要约束的列的名称；（针对多列属性的约束）</li>
<li>列级约束：包含在列定义中，直接跟在该列的其它定义之后,用空格分隔；不必指定列名；（只针对某一列）</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">-- 删除数据库表</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_stu</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">-- 创建数据库表</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="n">enterdate</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="n">classname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="n">email</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">pk_stu_sno</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">sno</span><span class="p">),</span><span class="w"> </span><span class="o">#</span><span class="n">pk_stu</span><span class="w"> </span><span class="err">为主键约束的名字</span><span class="w"></span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">ck_stu_sex</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="p">(</span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;女&#39;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">ck_stu_age</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="o">&gt;=</span><span class="mi">18</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">60</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">uq_stu_email</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="c1">-- 添加数据：</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="s1">&#39;2023/2/22&#39;</span><span class="p">,</span><span class="s1">&#39;java02班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;小张&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="s1">&#39;2023/2/22&#39;</span><span class="p">,</span><span class="s1">&#39;java02班&#39;</span><span class="p">,</span><span class="s1">&#39;xz@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="c1">-- 查看数据：</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>3.在创建表以后添加约束：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">-- 删除表</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="n">enterdate</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="n">classname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="n">email</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="c1">--sno int(6) auto_increment,出现错误&gt; 1075 - Incorrect table definition; there can be only one auto column and it must be defined as a key</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="c1">---- 错误的解决办法：就是auto_increment去掉</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="c1">-- 在创建表以后添加约束：</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">pk_stu</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">sno</span><span class="p">);</span><span class="w"> </span><span class="o">#</span><span class="err">主键约束</span><span class="n">sno</span><span class="w"></span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">修改自增条件</span><span class="n">sno</span><span class="w"></span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">ck_stu_sex</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;女&#39;</span><span class="p">);</span><span class="w"> </span><span class="o">#</span><span class="err">检查约束</span><span class="n">sex</span><span class="w"></span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">ck_stu_age</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">age</span><span class="o">&gt;=</span><span class="mi">18</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="o">&lt;=</span><span class="mi">50</span><span class="p">);</span><span class="w"> </span><span class="o">#</span><span class="err">检查约束</span><span class="n">age</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">up_stu_email</span><span class="w"> </span><span class="k">unique</span><span class="p">(</span><span class="n">email</span><span class="p">);</span><span class="w"> </span><span class="o">#</span><span class="err">唯一约束</span><span class="n">email</span><span class="w"></span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="c1">-- 查看表结构</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="k">desc</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h3 id="总结">总结<a class="headerlink" href="#总结" title="Permanent link">🪁</a></h3>
<ol>
<li>主键约束</li>
</ol>
<blockquote>
<p>主键约束（PRIMARY KEY，缩写PK），是数据库中最重要的一种约束，其作用是约束表中的某个字段可以**唯一标识一条记录**。因此，使用主键约束可以快速查找表中的记录。就像人的身份证、学生的学号等等，<strong>设置为主键的字段取值不能重复（唯一），也不能为空（非空）</strong>，否则无法唯一标识一条记录。
<strong>主键可以是单个字段，也可以是多个字段组合。**对于单字段主键的添加可使用表级约束，也可以使用列级约束；而对于多字段主键的添加只能使用**表级约束</strong>。</p>
</blockquote>
<ol>
<li>非空约束（NOT NULL，缩写NK）</li>
</ol>
<blockquote>
<p>规定了一张表中指定的某个字段的值不能为空（NULL）。设置了非空约束的字段，在插入的数据为NULL时，数据库会提示错误，导致数据无法插入。
无论是单个字段还是多个字段非空约束的添加只能使用**列级约束**（非空约束无表级约束）<br />
为已存在表中的字段添加非空约束 </p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">stu_sex</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<blockquote>
<p>使用alter table语句删除非空约束 </p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_stu</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">stu_sex</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<ol>
<li>唯一约束</li>
</ol>
<blockquote>
<p>唯一约束（UNIQUE，缩写UK）比较简单，它规定了一张表中指定的某个字段的值不能重复，即这一字段的每个值都是唯一的。如果想要某个字段的值不重复，那么就可以为该字段添加为唯一约束。
无论单个字段还是多个字段唯一约束的添加均可使用列级约束和表级约束</p>
</blockquote>
<ol>
<li>检查约束</li>
</ol>
<blockquote>
<p>检查约束（CHECK）用来限制某个字段的取值范围，可以定义为列级约束，也可以定义为表级约束。MySQL8开始支持检查约束。 </p>
</blockquote>
<ol>
<li>默认值约束 </li>
</ol>
<blockquote>
<p>默认值约束（DEFAULT）用来规定字段的默认值。如果某个被设置为default约束的字段没插入具体值，那么该字段的值将会被默认值填充。
默认值约束的设置与非空约束一样，也只能使用列级约束。</p>
</blockquote>
<ol>
<li>字段值自动增加约束</li>
</ol>
<blockquote>
<p>自增约束（AUTO_INCREMENT）可以使表中某个字段的值自动增加。一张表中只能有一个自增长字段，并且该字段必须定义了约束（该约束可以是主键约束、唯一约束以及外键约束），如果自增字段没有定义约束，数据库则会提示“Incorrect table definition; there can be only one auto column and it must be defined as a key”错误。
由于自增约束会自动生成唯一的ID，所以自增约束通常会配合主键使用，并且只适用于整数类型。一般情况下，设置为自增约束字段的值会从1开始，每增加一条记录，该字段的值加1。</p>
</blockquote>
<h2 id="4mysql基本操作">4.mysql基本操作<a class="headerlink" href="#4mysql基本操作" title="Permanent link">🪁</a></h2>
<h3 id="外键约束">外键约束<a class="headerlink" href="#外键约束" title="Permanent link">🪁</a></h3>
<blockquote>
<p>外键约束（foreign key，缩写FK）是用来实现数据库表的参照完整性的。外键约束可以使两张表紧密的结合起来，特别是针对修改或者删除的级联操作时，会保证数据的完整性。</p>
<p>外键是指表中某个字段的值依赖于另一张表中某个字段的值，而**被依赖的字段必须具有主键约束或者唯一约束**。被依赖的表我们通常称之为父表或者主表，设置外键约束的表称为子表或者从表。  </p>
<p>举个例子：如果想要表示学生和班级的关系，首先要有学生表和班级表两张表，然后学生表中有个字段为stu_clazz（该字段表示学生所在的班级），而该字段的取值范围由班级表中的主键cla_no字段（该字段表示班级编号）的取值决定。那么班级表为主表，学生表为从表，且stu_clazz字段是学生表的外键。通过stu_clazz字段就建立了学生表和班级表的关系。  </p>
</blockquote>
<p>班级表</p>
<table>
<thead>
<tr>
<th align="center"><strong>班级编号</strong></th>
<th align="center">班级名称</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">Java08</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">python09</td>
</tr>
</tbody>
</table>
<p>学生表</p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">姓名</th>
<th align="center">年龄</th>
<th align="center">性别</th>
<th align="center"><strong>班级编号</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">小红</td>
<td align="center">22</td>
<td align="center">女</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">小黑</td>
<td align="center">21</td>
<td align="center">男</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">小彭</td>
<td align="center">23</td>
<td align="center">男</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">小强</td>
<td align="center">20</td>
<td align="center">男</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<p>主表（父表）：班级表  -  班级编号 - 主键<br />
从表（子表）：学生表 - 班级编号 - 外键</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">-- 先创建父表：班级表</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_class</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="n">cno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">主键</span><span class="o">&amp;</span><span class="err">自增</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="n">cname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">不为空</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="n">room</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c1">-- 添加班级数据</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java09&#39;</span><span class="p">,</span><span class="s1">&#39;r613&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java08&#39;</span><span class="p">,</span><span class="s1">&#39;r306&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;bigdata09&#39;</span><span class="p">,</span><span class="s1">&#39;r512&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c1">--可以一次性添加多条记录</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java06&#39;</span><span class="p">,</span><span class="s1">&#39;r304&#39;</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java05&#39;</span><span class="p">,</span><span class="s1">&#39;r604&#39;</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;bigdata06&#39;</span><span class="p">,</span><span class="s1">&#39;r516&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="c1">--查询班级表</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="c1">--删除学生表</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="c1">--创建子表，学生表</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">主键</span><span class="o">&amp;</span><span class="err">自增</span><span class="w"></span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">不为空</span><span class="w"></span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">    </span><span class="n">classno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">    </span><span class="o">#</span><span class="err">我们要关联外键，所有</span><span class="n">classno取值参考t_class表中的cno字段</span><span class="err">，字段的名字可以不相同，但类型长度定义</span><span class="w"> </span><span class="err">尽量要求相同。</span><span class="w"></span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="c1">--添加学生信息</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="c1">-- 查看学生表</span>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="c1">-- 查看表结构</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="k">desc</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="c1">-- 发现，学生表没有添加外键</span>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="c1">-- 出现问题：</span>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="c1">--1.添加一位学生对应的班级编号为4</span>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小红&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="c1">--2.删除班级编号为2</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="c1">-- 此时的外键是你认为的，没有真正添加进去。</span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="c1">-- 解决办法，添加外键约束：</span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="c1">-- 注意：外键约束只有表级约束</span>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="c1">-- 法一</span>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="c1">--删除学生表</span>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">主键</span><span class="o">&amp;</span><span class="err">自增</span><span class="w"></span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="err">不为空</span><span class="w"></span>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="w">    </span><span class="n">classno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="p">(</span><span class="n">cno</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="c1">-- 法二</span>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a><span class="w">        </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a><span class="w">        </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a><span class="w">        </span><span class="n">classno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a><span class="c1">-- 在创建表以后添加外键约束：</span>
<a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="p">(</span><span class="n">cno</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a>
<a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a><span class="c1">-- 上面的两个问题都解决了：</span>
<a id="__codelineno-9-69" name="__codelineno-9-69" href="#__codelineno-9-69"></a><span class="c1">-- 添加学生信息</span>
<a id="__codelineno-9-70" name="__codelineno-9-70" href="#__codelineno-9-70"></a><span class="c1">-- &gt; 1452 - Cannot add or update a child row: a foreign key constraint fails </span>
<a id="__codelineno-9-71" name="__codelineno-9-71" href="#__codelineno-9-71"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-72" name="__codelineno-9-72" href="#__codelineno-9-72"></a>
<a id="__codelineno-9-73" name="__codelineno-9-73" href="#__codelineno-9-73"></a><span class="c1">-- 删除班级1：</span>
<a id="__codelineno-9-74" name="__codelineno-9-74" href="#__codelineno-9-74"></a><span class="c1">-- 2.删除班级2：</span>
<a id="__codelineno-9-75" name="__codelineno-9-75" href="#__codelineno-9-75"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-76" name="__codelineno-9-76" href="#__codelineno-9-76"></a><span class="c1">-- &gt; 1451 - Cannot delete or update a parent row: a foreign key constraint fails</span>
<a id="__codelineno-9-77" name="__codelineno-9-77" href="#__codelineno-9-77"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>外键</p>
<table>
<thead>
<tr>
<th align="center">名</th>
<th align="center">字段</th>
<th align="center">参考模式</th>
<th align="center">参考表</th>
<th align="center">参考字段</th>
<th align="center">删除时</th>
<th align="center">更新时</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">fk_stu_classno</td>
<td align="center">classno</td>
<td align="center">mytestdb</td>
<td align="center">t_class</td>
<td align="center">cno</td>
<td align="center">restrict</td>
<td align="center">restrict</td>
</tr>
</tbody>
</table>
<h3 id="外键策略">外键策略<a class="headerlink" href="#外键策略" title="Permanent link">🪁</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">--删除学生表</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1">--删除班级表</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1">--顺序：先删除从表，再删除主表。(有外键删主表删不掉的)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_class</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1">--先创建父表：班级表</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_class</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="n">cno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="n">cname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="n">room</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="c1">-- 可以一次性添加多条记录：</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java06&#39;</span><span class="p">,</span><span class="s1">&#39;r304&#39;</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;java05&#39;</span><span class="p">,</span><span class="s1">&#39;r604&#39;</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;bigdata06&#39;</span><span class="p">,</span><span class="s1">&#39;r516&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="c1">-- 添加学生表，添加外键约束：</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">    </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="n">classno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="p">(</span><span class="n">cno</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="c1">-- 可以一次性添加多条记录：</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="c1">-- 查看班级表和学生表：</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="c1">-- 删除班级2(主表中字段)：如果直接删除的话肯定不行因为有外键约束：</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="c1">-- 操作：加入外键策略</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="c1">-- 策略1：no action 不允许操作</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="c1">-- 通过操作sql来完成：</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="c1">-- 先把班级2中学生对应的班级 改为null (班级中没有学生，才能删除班级。)</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="k">update</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">classno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">classno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="c1">-- 然后再删除班级2：</span>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="c1">-- 策略2：cascade 级联操作：操作主表的时候影响从表的外键信息：</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="c1">-- 先删除之前的外键约束：</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="c1">-- 重新添加外键约束：</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="p">(</span><span class="n">cno</span><span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">cascade</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">cascade</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a><span class="c1">-- 试试更新：</span>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="k">update</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="c1">-- 试试删除：</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="c1">-- 策略3：set null  置空操作：</span>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="c1">-- 先删除之前的外键约束：</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a><span class="c1">-- 重新添加外键约束：</span>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="p">(</span><span class="n">cno</span><span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="c1">-- 试试更新：</span>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a><span class="k">update</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="c1">-- 试试删除：</span>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">cno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a><span class="c1">-- 注意：</span>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a><span class="c1">-- 联级操作 和 删除操作 可以混着使用：</span>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_classno</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">classno</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">t_class</span><span class="w"> </span><span class="p">(</span><span class="n">cno</span><span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">cascade</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h2 id="5ddl和dml的补充">5.DDL和DML的补充<a class="headerlink" href="#5ddl和dml的补充" title="Permanent link">🪁</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">-- 创建表：</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">        </span><span class="n">sno</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="n">sname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;男&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;女&#39;</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">        </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">age</span><span class="o">&gt;=</span><span class="mi">18</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="o">&lt;=</span><span class="mi">50</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="n">enterdate</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">        </span><span class="n">classname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"></span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">        </span><span class="n">email</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">unique</span><span class="w"></span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="c1">-- 添加数据：</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小红&#39;</span><span class="p">,</span><span class="s1">&#39;女&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2022.3.25&#39;</span><span class="p">,</span><span class="s1">&#39;java09班&#39;</span><span class="p">,</span><span class="s1">&#39;xh@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小李&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="s1">&#39;2022/8/21&#39;</span><span class="p">,</span><span class="s1">&#39;java08班&#39;</span><span class="p">,</span><span class="s1">&#39;xl@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小四&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;2023-9-1&#39;</span><span class="p">,</span><span class="s1">&#39;java04班&#39;</span><span class="p">,</span><span class="s1">&#39;xs@136.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="s1">&#39;小黑&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="s1">&#39;2023-5-27&#39;</span><span class="p">,</span><span class="s1">&#39;java01班&#39;</span><span class="p">,</span><span class="s1">&#39;xh@126.com&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="c1">-- 查看学生表：</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="c1">-- 添加一张表：快速添加：结构和数据跟t_student 都是一致的</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student2</span><span class="w"></span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="k">as</span><span class="w"></span>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="c1">--查看t_student2表</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="c1">-- 快速添加，结构跟t_student一致，数据没有：</span>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student3</span><span class="w"></span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="k">as</span><span class="w"></span>
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="mi">1</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="c1">--查看t_student3表</span>
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student3</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a>
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a>
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="c1">-- 快速添加：只要部分列，部分数据：</span>
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student4</span><span class="w"></span>
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="k">as</span><span class="w"></span>
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="k">select</span><span class="w"> </span><span class="n">sno</span><span class="p">,</span><span class="n">sname</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="c1">-- 查看t_student4表</span>
<a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student4</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a>
<a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="c1">-- 删除数据操作 :清空数据</span>
<a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t_student</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="k">truncate</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">t_student2</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>【注】delete和truncate的区别：
从最终的结果来看，虽然使用truncate操作和使用delete操作都可以删除表中的全部记录，但是两者还是有很多区别的，其区别主要体现在以下几个方面：</p>
<ol>
<li>delete为数据操作语言DML；truncate为数据定义语言DDL。</li>
<li>delete操作是将表中所有记录一条一条删除直到删除完；truncate操作则是保留了表的结构，重新创建了这个表，所有的状态都相当于新表。因此，truncate操作的效率更高。</li>
<li>delete操作可以回滚；truncate操作会导致隐式提交，因此不能回滚。</li>
<li>delete操作执行成功后会返回已删除的行数（如删除4行记录，则会显示“Affected rows：4”）；截断操作不会返回已删除的行量，结果通常是“Affected rows：0”。DELETE操作删除表中记录后，再次向表中添加新记录时，对于设置有自增约束字段的值会从删除前表中该字段的最大值加1开始自增；truncate操作则会重新从1开始自增。</li>
</ol>
<h2 id="6dql-查询操作">6.DQL-查询操作<a class="headerlink" href="#6dql-查询操作" title="Permanent link">🪁</a></h2>
<blockquote>
<p>准备四张表
dept(部门表)</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">-- dept:department 部分 ；loc - location 位置</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">DEPT</span><span class="p">(</span><span class="w">  </span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="n">DEPTNO</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="n">DNAME</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">14</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="n">LOC</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">PK_DEPT</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">,</span><span class="w"> </span><span class="n">DNAME</span><span class="p">,</span><span class="w"> </span><span class="n">LOC</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ACCOUNTING&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NEW YORK&#39;</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">,</span><span class="w"> </span><span class="n">DNAME</span><span class="p">,</span><span class="w"> </span><span class="n">LOC</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RESEARCH&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DALLAS&#39;</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">,</span><span class="w"> </span><span class="n">DNAME</span><span class="p">,</span><span class="w"> </span><span class="n">LOC</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SALES&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CHICAGO&#39;</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">,</span><span class="w"> </span><span class="n">DNAME</span><span class="p">,</span><span class="w"> </span><span class="n">LOC</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;OPERATIONS&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;BOSTON&#39;</span><span class="p">);</span><span class="w">  </span>
</code></pre></div>
<p>emp(员工表)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">-- emp:employee 员工；mgr：manager上级领导编号；hiredate 入职日期 ；firedate 解雇日期 </span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">-- deptno 外键 参考  dept - deptno字段</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c1">-- mgr 外键  参考  自身表emp - empno  产生了自关联</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">EMP</span><span class="w">  </span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="p">(</span><span class="w">  </span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">  </span><span class="n">EMPNO</span><span class="w">    </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="n">ENAME</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">  </span><span class="n">JOB</span><span class="w">      </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">  </span><span class="n">MGR</span><span class="w">      </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">  </span><span class="n">HIREDATE</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">  </span><span class="n">SAL</span><span class="w">      </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">  </span><span class="n">COMM</span><span class="w">     </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">  </span><span class="n">DEPTNO</span><span class="w">   </span><span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">EMP</span><span class="w">  </span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">  </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">FK_DEPTNO</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">  </span><span class="k">references</span><span class="w"> </span><span class="n">DEPT</span><span class="w"> </span><span class="p">(</span><span class="n">DEPTNO</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7369</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SMITH&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLERK&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7902</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1980-12-17&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7499</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ALLEN&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SALESMAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-02-20&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7521</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;WARD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SALESMAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-02-22&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1250</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7566</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JONES&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MANAGER&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7839</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-04-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2975</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7654</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MARTIN&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SALESMAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-09-28&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1250</span><span class="p">,</span><span class="w"> </span><span class="mi">1400</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;BLAKE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MANAGER&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7839</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-05-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2850</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7782</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLARK&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MANAGER&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7839</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-06-09&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2450</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7788</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SCOTT&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ANALYST&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7566</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1987-04-19&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7839</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;KING&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;PRESIDENT&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-11-17&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7844</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TURNER&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SALESMAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-09-08&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7876</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ADAMS&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLERK&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7788</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1987-05-23&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7900</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JAMES&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLERK&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7698</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-12-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">950</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7902</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FORD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ANALYST&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7566</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1981-12-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="n">MGR</span><span class="p">,</span><span class="w"> </span><span class="n">HIREDATE</span><span class="p">,</span><span class="w"> </span><span class="n">SAL</span><span class="p">,</span><span class="w"> </span><span class="n">COMM</span><span class="p">,</span><span class="w"> </span><span class="n">DEPTNO</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">7934</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MILLER&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLERK&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">7782</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1982-01-23&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">  </span>
</code></pre></div>
<p>salgrade(薪资等级表)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">-- losal - lowsal 低工资</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1">-- hisal - highsal 高工资</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w">  </span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="p">(</span><span class="w">  </span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">  </span><span class="n">GRADE</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">  </span><span class="n">LOSAL</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">  </span><span class="n">HISAL</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w"> </span><span class="p">(</span><span class="n">GRADE</span><span class="p">,</span><span class="w"> </span><span class="n">LOSAL</span><span class="p">,</span><span class="w"> </span><span class="n">HISAL</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w"> </span><span class="mi">1200</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w"> </span><span class="p">(</span><span class="n">GRADE</span><span class="p">,</span><span class="w"> </span><span class="n">LOSAL</span><span class="p">,</span><span class="w"> </span><span class="n">HISAL</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1201</span><span class="p">,</span><span class="w"> </span><span class="mi">1400</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w"> </span><span class="p">(</span><span class="n">GRADE</span><span class="p">,</span><span class="w"> </span><span class="n">LOSAL</span><span class="p">,</span><span class="w"> </span><span class="n">HISAL</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1401</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w"> </span><span class="p">(</span><span class="n">GRADE</span><span class="p">,</span><span class="w"> </span><span class="n">LOSAL</span><span class="p">,</span><span class="w"> </span><span class="n">HISAL</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2001</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">SALGRADE</span><span class="w"> </span><span class="p">(</span><span class="n">GRADE</span><span class="p">,</span><span class="w"> </span><span class="n">LOSAL</span><span class="p">,</span><span class="w"> </span><span class="n">HISAL</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3001</span><span class="p">,</span><span class="w"> </span><span class="mi">9999</span><span class="p">);</span><span class="w">  </span>
</code></pre></div>
<p>bonus(奖金表)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">-- job 职位 sal薪资；common：补助</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">BONUS</span><span class="w">  </span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="p">(</span><span class="w">  </span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span><span class="n">ENAME</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">  </span><span class="n">JOB</span><span class="w">   </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span><span class="n">SAL</span><span class="w">   </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w">  </span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">  </span><span class="n">COMM</span><span class="w">  </span><span class="n">double</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="p">);</span><span class="w">  </span>
</code></pre></div>
<p>查看表</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">-- 查看表：</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dept</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">salgrade</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bonus</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h3 id="单表查询">单表查询<a class="headerlink" href="#单表查询" title="Permanent link">🪁</a></h3>
<h4 id="1-最简单的sql查询">1) 最简单的SQL查询<a class="headerlink" href="#1-最简单的sql查询" title="Permanent link">🪁</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">-- 对emp表查询</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="err">代表着所有数据</span><span class="w"></span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1">-- 显示部分列</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="c1">-- 显示部分列，部分行</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">job</span><span class="p">,</span><span class="n">mgr</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2000</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="c1">-- 起别名</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="c1">-- as 省略, &#39;&#39; 或者&quot;&quot;省略了</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="w"> </span><span class="err">员工编号</span><span class="p">,</span><span class="n">ename</span><span class="w"> </span><span class="err">姓名</span><span class="p">,</span><span class="n">sal</span><span class="w"> </span><span class="err">工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="c1">-- as alias 别名</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">员工编号</span><span class="p">,</span><span class="w"> </span><span class="n">ename</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">姓名</span><span class="p">,</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;员工编号&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ename</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="ss">&quot;姓名&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="c1">-- 1064 - You have an error in your SQL syntax;</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="c1">-- 1064出错的原因，在起别名时候不能存在特殊符号，&#39;&#39;或者&quot;&quot;不可以省略不写</span>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">员工</span><span class="w"> </span><span class="err">编号</span><span class="p">,</span><span class="w"> </span><span class="n">ename</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="ss">&quot;姓 名&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="c1">-- 算术运算符</span>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="n">sal</span><span class="o">+</span><span class="mi">1000</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;涨薪后&#39;</span><span class="p">,</span><span class="n">deptno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2500</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="n">comm</span><span class="p">,</span><span class="n">sal</span><span class="o">+</span><span class="n">comm</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">某数</span><span class="o">+</span><span class="k">null</span><span class="o">=</span><span class="k">null</span><span class="w"> </span><span class="err">此句有问题</span><span class="w"></span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="c1">-- 去重操作</span>
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="n">deptno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="c1">-- 对职位和员工编号的组合 去重</span>
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="n">deptno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="c1">-- 排序</span>
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sal</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">升序排序</span><span class="w"></span>
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">asc</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="n">asc指升序</span><span class="err">，默认不写</span><span class="w"></span>
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="n">desc指降序</span><span class="w"></span>
<a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">asc</span><span class="p">,</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">工资升序，编号降序</span><span class="w"></span>
</code></pre></div>
<h4 id="2-where子句">2) where子句<a class="headerlink" href="#2-where子句" title="Permanent link">🪁</a></h4>
<p>指定查询条件使用where子句，可以查询**符合条件的部分记录**。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">-- 查看emp表</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1">-- where子句：where + 过滤条件 </span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1">-- where子句 + 关系运算符</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;CLERK&#39;</span><span class="p">;</span><span class="w">  </span><span class="o">#</span><span class="err">不区分大小写</span><span class="w"></span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="nb">binary</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="nb">binary</span><span class="p">(</span><span class="err">二元</span><span class="p">)</span><span class="err">区分大小写</span><span class="w"></span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">hiredate</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="s1">&#39;1982-1-1&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="c1">-- where 子句 + 逻辑运算符：amd</span>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3000</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">开区间</span><span class="w"></span>
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3000</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3000</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sal</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">3000</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">闭区间</span><span class="w"></span>
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>
<a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="c1">-- where 子句 + 逻辑运算符：or</span>
<a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;manager&#39;</span><span class="p">,</span><span class="s1">&#39;clerk&#39;</span><span class="p">,</span><span class="s1">&#39;analyst&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>
<a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a><span class="c1">-- where 子句 + 模糊查询</span>
<a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a><span class="c1">-- 查询名字中带B的员工  % 表示 多个字符</span>
<a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ename</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%B%&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a><span class="c1">-- 任意一个字符</span>
<a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ename</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;_B%&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>
<a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a><span class="c1">-- 关于null判断</span>
<a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">comm</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">comm</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>
<a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a><span class="c1">-- 小括号的使用: 因为不同的运算符的优先级别不同，加括号为了可读性</span>
<a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;salesman&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1500</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">先</span><span class="n">and后or</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">or</span><span class="w"></span>
<a id="__codelineno-18-42" name="__codelineno-18-42" href="#__codelineno-18-42"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;salesman&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1500</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-43" name="__codelineno-18-43" href="#__codelineno-18-43"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="p">(</span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;salesman&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1500</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h4 id="3使用函数">3)使用函数<a class="headerlink" href="#3使用函数" title="Permanent link">🪁</a></h4>
<blockquote>
<p>函数只是对查询结果中的数据进行处理，不会改变数据库中数据表的值。</p>
</blockquote>
<h5 id="单行函数">单行函数<a class="headerlink" href="#单行函数" title="Permanent link">🪁</a></h5>
<blockquote>
<p>单行函数是指对每一条记录输入值进行计算，并得到相应的计算结果，然后返回给用户，也就是说，每条记录作为一个输入参数，经过函数计算得到每条记录的计算结果。 
常用的单行函数主要包括字符串函数、数值函数、日期与时间函数、流程函数以及其他函数
除了（max,min,count,sum,avg），都是单行函数</p>
</blockquote>
<ol>
<li>字符串函数(String StringBuilder)</li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">concat(str1,str2,..)</td>
<td align="left">将str1 str2 ..拼成新的字符串</td>
</tr>
<tr>
<td align="left">insert(str,index,n,newstr)</td>
<td align="left">将字符串str从第index位置开始的n个字符替换成字符串newstr</td>
</tr>
<tr>
<td align="left">length(str)</td>
<td align="left">获取str长度</td>
</tr>
<tr>
<td align="left">lower(str)</td>
<td align="left">将str每个字符转成小写</td>
</tr>
<tr>
<td align="left">upper(str)</td>
<td align="left">将str每个字符转成大写</td>
</tr>
<tr>
<td align="left">left(str,n)</td>
<td align="left">获取str最左边的n个字符</td>
</tr>
<tr>
<td align="left">right(str,n)</td>
<td align="left">获取str最右边的n字符</td>
</tr>
<tr>
<td align="left">strcmp(str1,str2)</td>
<td align="left">比较str1和str2的大小</td>
</tr>
<tr>
<td align="left">substring(str,index,n)</td>
<td align="left">获取从str的index位置开始的n个字符</td>
</tr>
</tbody>
</table>
<ol>
<li>数值函数(Math) </li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">abs(num)</td>
<td align="left">返回num的绝对值</td>
</tr>
<tr>
<td align="left">ceil(num)</td>
<td align="left">向上取整</td>
</tr>
<tr>
<td align="left">floor(num)</td>
<td align="left">向下取整</td>
</tr>
<tr>
<td align="left">mod(num1,mun2)</td>
<td align="left">num1/num2取模</td>
</tr>
<tr>
<td align="left">PI()</td>
<td align="left">返回圆周率的值</td>
</tr>
<tr>
<td align="left">rand(num)</td>
<td align="left">返回0~1之间的随机数</td>
</tr>
<tr>
<td align="left">round(num,n)</td>
<td align="left">返回x四舍五入的值，改值保留到小数点后n位</td>
</tr>
<tr>
<td align="left">truncate(nu,n)</td>
<td align="left">返回num被舍去至小数点后n位的值</td>
</tr>
</tbody>
</table>
<ol>
<li>日期与时间函数(Date)</li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">curdate()</td>
<td align="left">返回当前日期</td>
</tr>
<tr>
<td align="left">curtime()</td>
<td align="left">返回当前时间</td>
</tr>
<tr>
<td align="left">now()</td>
<td align="left">返回当前日期和时间</td>
</tr>
<tr>
<td align="left">sysdate()</td>
<td align="left">返回该函数执行的日期和时间</td>
</tr>
</tbody>
</table>
<ol>
<li>流程函数(if switch)</li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">if(condition,t,f)</td>
<td align="left">条件真返回t，否则返回f</td>
</tr>
<tr>
<td align="left">ifnull(value1,value2)</td>
<td align="left">v1不为null，返回v1，否则返回v2</td>
</tr>
<tr>
<td align="left">nullif(value1,value2)</td>
<td align="left">v1等于v2，返回null，否则返回value1</td>
</tr>
<tr>
<td align="left">case value when [value1] then result1 when [value2] then result2...end</td>
<td align="left">如果value等于value1，则返回result1，···，否则返回result</td>
</tr>
<tr>
<td align="left">case when [condition1] then result1 when [condition2] then result2 end</td>
<td align="left">如果条件condition1为真，则返回result1，···，否则返回result</td>
</tr>
</tbody>
</table>
<ol>
<li>JSON函数</li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">json_append()</td>
<td align="left">在json文档中追加数据</td>
</tr>
<tr>
<td align="left">json_insert()</td>
<td align="left">在json文档中插入数据</td>
</tr>
<tr>
<td align="left">json_replace()</td>
<td align="left">替换json文档中的数据</td>
</tr>
<tr>
<td align="left">json_remove()</td>
<td align="left">从json文档中的指定位置移除数据</td>
</tr>
<tr>
<td align="left">json_contains()</td>
<td align="left">判断json文档中是否包含某个数据</td>
</tr>
<tr>
<td align="left">json_search()</td>
<td align="left">查找json文档中给定字符串的路径</td>
</tr>
</tbody>
</table>
<ol>
<li>其他函数 </li>
</ol>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">database()</td>
<td align="left">返回当前数据库名</td>
</tr>
<tr>
<td align="left">version()</td>
<td align="left">返回当前mysql的版本号</td>
</tr>
<tr>
<td align="left">user()</td>
<td align="left">返回当前登入的用户名</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1">-- 1.字符串函数</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="c1">-- substring从1开始</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="k">lower</span><span class="p">(</span><span class="n">job</span><span class="p">),</span><span class="k">length</span><span class="p">(</span><span class="n">job</span><span class="p">),</span><span class="k">substring</span><span class="p">(</span><span class="n">job</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1">-- 2.数值函数</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="c1">-- dual实际是一个伪表</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">select</span><span class="w"> </span><span class="k">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">),</span><span class="n">ceil</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">6</span><span class="p">),</span><span class="n">floor</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">6</span><span class="p">),</span><span class="n">PI</span><span class="p">()</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="k">select</span><span class="w"> </span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="n">ceil</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="k">select</span><span class="w"> </span><span class="k">mod</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">5</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="o">%</span><span class="mi">3</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="c1">-- 3.日期与时间函数</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="k">select</span><span class="w"> </span><span class="n">curdate</span><span class="p">(),</span><span class="n">curtime</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="k">select</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span><span class="n">sysdate</span><span class="p">(),</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">now</span><span class="p">(),</span><span class="n">sysdate</span><span class="p">()</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">888</span><span class="p">,</span><span class="s1">&#39;小强&#39;</span><span class="p">,</span><span class="s1">&#39;salasman&#39;</span><span class="p">,</span><span class="mi">6666</span><span class="p">,</span><span class="n">now</span><span class="p">(),</span><span class="mi">1000</span><span class="p">,</span><span class="k">null</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="c1">-- 查看emp表结构</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="k">desc</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="c1">-- 4.流程函数</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="c1">-- if相关(if-else双分支)</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="k">if</span><span class="p">(</span><span class="n">sal</span><span class="o">&gt;</span><span class="mi">3000</span><span class="p">,</span><span class="s1">&#39;高薪&#39;</span><span class="p">,</span><span class="s1">&#39;底薪&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;薪资等级&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="c1">--  若comm是null，只取0(单分支)</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="n">comm</span><span class="p">,</span><span class="n">sal</span><span class="o">+</span><span class="n">ifnull</span><span class="p">(</span><span class="n">comm</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="c1">-- 1=1返回null，1!=2返回1</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="k">select</span><span class="w"> </span><span class="k">nullif</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="k">nullif</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a><span class="c1">-- case相关</span>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="c1">-- case等值判断</span>
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">job</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a><span class="k">case</span><span class="w"> </span><span class="n">job</span><span class="w"></span>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;clerk&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;店员&#39;</span><span class="w"></span>
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;salesman&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;销售&#39;</span><span class="w"></span>
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;manager&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;经理&#39;</span><span class="w"></span>
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;其他&#39;</span><span class="w"></span>
<a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a><span class="k">end</span><span class="w"> </span><span class="s1">&#39;岗位&#39;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a><span class="n">sal</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a><span class="c1">-- case区间判断</span>
<a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a><span class="k">select</span><span class="w"> </span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a><span class="k">case</span><span class="w"></span>
<a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">1000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"></span>
<a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">2000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"></span>
<a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">sal</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">3000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"></span>
<a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"></span>
<a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a><span class="k">end</span><span class="w"> </span><span class="s1">&#39;工资等级&#39;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a><span class="n">deptno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a>
<a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a><span class="c1">-- 5.JSON函数  </span>
<a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a><span class="c1">-- 6.其他函数</span>
<a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">(),</span><span class="k">user</span><span class="p">(),</span><span class="k">version</span><span class="p">()</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h5 id="多行函数">多行函数<a class="headerlink" href="#多行函数" title="Permanent link">🪁</a></h5>
<blockquote>
<p>多行函数是指**对一组数据**进行运算，针对这一组数据（多行记录）只返回一个结果，也称为分组函数。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">count()</td>
<td align="left">统计表中记录的数目</td>
</tr>
<tr>
<td align="left">sum()</td>
<td align="left">计算指定字段的总和</td>
</tr>
<tr>
<td align="left">avg()</td>
<td align="left">计算指定字段的平均值</td>
</tr>
<tr>
<td align="left">max()</td>
<td align="left">统计指定字段的最大值</td>
</tr>
<tr>
<td align="left">min()</td>
<td align="left">统计指定字段的最小值</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">-- 多行函数：</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">sal</span><span class="p">),</span><span class="k">min</span><span class="p">(</span><span class="n">sal</span><span class="p">),</span><span class="k">count</span><span class="p">(</span><span class="n">sal</span><span class="p">),</span><span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">),</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">),</span><span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="o">/</span><span class="k">count</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="c1">-- 多行函数自动忽略null值</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">comm</span><span class="p">),</span><span class="k">min</span><span class="p">(</span><span class="n">comm</span><span class="p">),</span><span class="k">count</span><span class="p">(</span><span class="n">comm</span><span class="p">),</span><span class="k">sum</span><span class="p">(</span><span class="n">comm</span><span class="p">),</span><span class="k">avg</span><span class="p">(</span><span class="n">comm</span><span class="p">),</span><span class="k">sum</span><span class="p">(</span><span class="n">comm</span><span class="p">)</span><span class="o">/</span><span class="k">count</span><span class="p">(</span><span class="n">comm</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1">-- count --计数</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="c1">-- 统计表的记录数：方式1：</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">ename</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="c1">-- 统计表的记录数：方式2</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h4 id="4group_by分组">4)group_by分组<a class="headerlink" href="#4group_by分组" title="Permanent link">🪁</a></h4>
<blockquote>
<p>group by : 用来进行分组</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">-- 查询emp表</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="c1">-- 统计各个部门的平均工资 </span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1">-- 字段和多行函数不可以同时使用</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="c1">-- 字段和多行函数不可以同时使用,除非这个字段属于分组</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="c1">-- 统计各个岗位的平均工资</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="err">岗位</span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="err">岗位</span><span class="p">,</span><span class="w"> </span><span class="k">lower</span><span class="p">(</span><span class="n">job</span><span class="p">),</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h4 id="5having分组后筛选">5)having分组后筛选<a class="headerlink" href="#5having分组后筛选" title="Permanent link">🪁</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">-- 统计各个部门的平均工资 ,只显示平均工资2000以上的  </span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1">-- 分组以后进行二次筛选 having</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2000</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2000</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="c1">-- 统计各个岗位的平均工资,除了manager</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c1">-- 方法1 先where后group by：</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="o">!=</span><span class="s1">&#39;manager&#39;</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="c1">-- 方法2 先group by后having：</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;manager&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h4 id="6单表查询总结">6)单表查询总结<a class="headerlink" href="#6单表查询总结" title="Permanent link">🪁</a></h4>
<ul>
<li>select 语句总结:顺序固定，不可改变顺序</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">select</span><span class="w"> </span><span class="k">column</span><span class="p">,</span><span class="n">group_function</span><span class="p">(</span><span class="k">column</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="w"></span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="p">[</span><span class="k">where</span><span class="w"> </span><span class="n">condition</span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="p">[</span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">group_condition</span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="p">[</span><span class="k">having</span><span class="w"> </span><span class="n">group_condition</span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="p">[</span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">column</span><span class="p">];</span><span class="w"></span>
</code></pre></div>
<ul>
<li>select 语句执行顺序</li>
</ul>
<blockquote>
<p>from--where--group by--select - having - order by</p>
</blockquote>
<h4 id="7单表查询练习">7)单表查询练习<a class="headerlink" href="#7单表查询练习" title="Permanent link">🪁</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- 列出工资最小值小于2000的职位</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="err">职位</span><span class="p">,</span><span class="k">min</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">最小工资</span><span class="w"></span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"></span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">职位</span><span class="w"></span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="k">having</span><span class="w"> </span><span class="err">最小工资</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2000</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1">-- 列出平均工资大于1200元的部门和工作搭配组合</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="err">部门</span><span class="p">,</span><span class="n">job</span><span class="w"> </span><span class="err">职位</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">平均工资</span><span class="w"></span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"></span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">部门</span><span class="p">,</span><span class="err">职位</span><span class="w"></span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="k">having</span><span class="w"> </span><span class="err">平均工资</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1200</span><span class="w"></span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">deptno</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c1">-- 统计[人数小于4的]部门的平均工资。</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="err">部门</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">平均工资</span><span class="p">,</span><span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">计数</span><span class="w"></span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"></span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">部门</span><span class="w"></span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="k">having</span><span class="w"> </span><span class="err">计数</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="c1">-- 统计各部门的最高工资，排除最高工资小于3000的部门。</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="k">select</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="err">部门</span><span class="p">,</span><span class="k">max</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="err">最高工资</span><span class="w"></span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"></span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">部门</span><span class="w"></span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="k">having</span><span class="w"> </span><span class="err">最高工资</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3000</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>select deptno,sal from emp;</p>
<h2 id="参考文章">参考文章<a class="headerlink" href="#参考文章" title="Permanent link">🪁</a></h2>
<ul>
<li><a href="https://blog.csdn.net/qq_44498443/article/details/103108422">sql练习</a></li>
<li><a href="https://space.bilibili.com/318518352">马士兵教育</a></li>
</ul>

  <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Source file information -->
<hr />
<div class="md-source-file">
  <small>
    <!-- mkdocs-git-revision-date-localized-plugin -->
      
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">January 28, 2023 22:50:54</span>
      
      
      <br />
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">January 28, 2023 22:50:54</span>
    <!-- mkdocs-git-revision-date-plugin -->
    
  </small>
</div>
  <!-- cusdis评论位置 -->
<div id="cusdis_thread"
  data-host="https://cusdis.com"
  data-app-id="12830b58-fda6-4135-99ce-e5f771bd3070"
  data-page-id=""
  data-page-url="https://121rh.com/about"
  data-page-title="主页评论"
  ></div>
  <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
  <script>
  window.CUSDIS_LOCALE = {
    "powered_by": "评论由 Cusdis 提供",
    "post_comment": "发送",
    "loading": "加载中",
    "email": "邮箱地址 (可选)",
    "nickname": "昵称",
    "reply_placeholder": "回复内容...",
    "reply_btn": "回复",
    "sending": "发送中...",
    "mod_badge": "管理员",
    "content_is_required": "内容不能为空",
    "nickname_is_required": "昵称不能为空",
    "comment_has_been_sent": "评论已发送，管理员审核通过后会展示"
  }
  </script>
<!--live2d 看板娘  -->
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/autoload.js"></script>
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/waifu-tips.js"></script>
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/waifu-tips.json"></script>


              

            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      

        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022-2023  FYA·心愿所往 <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noopener">黑ICP备17009103号</a>
    </a>
    </div>
  
  
<center id="siteTime">
  <span id="timeDate">天</span><span id="times"></span>💓
本站总访问量<span id="busuanzi_value_site_pv"></span>次💓
本站访客数<span id="busuanzi_value_site_uv"></span>人次💓
本文总阅读量<span id="busuanzi_value_page_pv"></span>次-_-
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://121rh.com/feed_rss_updated.xml" target="_blank" rel="noopener" title="RSS订阅" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M25.57 176.1C12.41 175.4.912 185.2.052 198.4s9.173 24.65 22.39 25.5c120.1 7.875 225.7 112.7 233.6 233.6C256.9 470.3 267.4 480 279.1 480c.531 0 1.062-.031 1.594-.063 13.22-.843 23.25-12.28 22.39-25.5C294.6 310.3 169.7 185.4 25.57 176.1zM32 32C14.33 32 0 46.31 0 64s14.33 32 32 32c194.1 0 352 157.9 352 352 0 17.69 14.33 32 32 32s32-14.31 32-32C448 218.6 261.4 32 32 32zm31.1 319.9C28.63 351.9 0 380.6 0 416s28.63 64 63.1 64 64.08-28.62 64.08-64-27.81-64.1-64.08-64.1z"/></svg>
    </a>
  
    
    
    <a href="mailto:<fyabwz@126.com>" target="_blank" rel="noopener" title="发送邮件" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m511.6 36.86-64 415.1a32.008 32.008 0 0 1-31.65 27.147c-4.188 0-8.319-.815-12.29-2.472l-122.6-51.1-50.86 76.29C226.3 508.5 219.8 512 212.8 512c-11.5 0-20.8-9.3-20.8-20.8v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96 122.3 360.3 19.69 317.5C8.438 312.8.812 302.2.062 289.1s5.47-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"/></svg>
    </a>
  
    
    
    <a href="https://gitee.com/fya666" target="_blank" rel="noopener" title="Gitee地址" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="https://weibo.com/fyawbz" target="_blank" rel="noopener" title="微博联系我哟" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg>
    </a>
  
    
    
    <a href="tencent://message/?Menu=yes&uin=1434090053&Service=300&sigT=45a1e5847943b64c6ff3990f8a9e644d2b31356cb0b4ac6b24663a3c8dd0f8aa12a595b1714f9d45" target="_blank" rel="noopener" title="QQ联系我哟" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg>
    </a>
  
    
    
    <a href="/life/weixin/" target="_blank" rel="noopener" title="微信联系我哟" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
        <script src="https://js.121rh.com/js/extra.js"></script>
      
        <script src="https://js.121rh.com/js/video.min.js"></script>
      
        <script src="https://js.121rh.com/js/vue.js"></script>
      
        <script src="https://js.121rh.com/js/time.js"></script>
      
        <script src="https://js.121rh.com/js/console.js"></script>
      
        <script src="https://js.121rh.com/js/anime.min.js"></script>
      
        <script src="https://js.121rh.com/js/jquery-3.3.1.min.js"></script>
      
        <script src="https://js.121rh.com/js/G-CHY1TBZZVW.js"></script>
      
        <script src="https://js.121rh.com/js/G-NRCPMZGDT9.js"></script>
      
        <script src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
    

  </body>
</html>