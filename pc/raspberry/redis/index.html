
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
  
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="To Using Docker Install Redis">
      
      
        <meta name="author" content="FYA">
      
      
        <link rel="canonical" href="https://121rh.com/pc/raspberry/redis/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">       
    
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" charset="UTF-8">
    <meta name="baidu-site-verification" content="code-VSU9zlmT1E">
    <meta name="Keywords" content="Javaå¼€å‘,SpringBoot,SpringCloud...">
<!--æ·»åŠ éƒ¨åˆ†-start-->
<script>
  document.addEventListener('visibilitychange',function(){
      if( document.visibilityState == 'hidden' ){
      normal_title = document.title;
      document.title = 'ãƒ½(â—-`Ğ”Â´-)ãƒä½ ä¸‘ä½ å°±èµ°ï¼';
      }else{
      document.title = 'ãƒ¾(Åâˆ€Å3)ãƒä½ å¸…å°±å›æ¥ï¼';
      setTimeout(function(){
          document.title = normal_title;
      }, 1200)
      }
  });
  </script>
<!-- è°·æ­Œå¹¿å‘Šä¸šåŠ¡ -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3116684949286138" crossorigin="anonymous"></script>

<!--æ·»åŠ éƒ¨åˆ†-end-->

    
      
        <title>æ ‘è“æ´¾å®‰è£…Redis - FYAÂ·å¿ƒæ„¿æ‰€å¾€</title>
      
    
    
  
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    

    
  

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/extra.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/video-js.min.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/video.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/vssue.css">
    
      <link rel="stylesheet" href="https://qiniu.121rh.com/css/vssue.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

    
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ä¸€dockeræœç´¢redisé•œåƒ" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href="../../.." title="FYAÂ·å¿ƒæ„¿æ‰€å¾€" class="md-header__button md-logo" aria-label="FYAÂ·å¿ƒæ„¿æ‰€å¾€" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FYAÂ·å¿ƒæ„¿æ‰€å¾€
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              æ ‘è“æ´¾å®‰è£…Redis
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="åˆ†äº«" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/msgrams/msgrams.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    msgrams
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="æ ‡ç­¾" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      ä¸»é¡µ
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../life/" class="md-tabs__link">
      ç”Ÿæ´»
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../timeline/" class="md-tabs__link">
      æ—¶é—´çº¿
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../tags/" class="md-tabs__link">
      æ‰“æ ‡ç­¾
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../algs/" class="md-tabs__link">
      ç®—æ³•
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FYAÂ·å¿ƒæ„¿æ‰€å¾€" class="md-nav__button md-logo" aria-label="FYAÂ·å¿ƒæ„¿æ‰€å¾€" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    FYAÂ·å¿ƒæ„¿æ‰€å¾€
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/msgrams/msgrams.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    msgrams
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        ä¸»é¡µ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../life/" class="md-nav__link">
        ç”Ÿæ´»
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../timeline/" class="md-nav__link">
        æ—¶é—´çº¿
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        æ‰“æ ‡ç­¾
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../algs/" class="md-nav__link">
        ç®—æ³•
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ä¸€dockeræœç´¢redisé•œåƒ" class="md-nav__link">
    ä¸€ã€Dockeræœç´¢redisé•œåƒ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#äºŒdockeræ‹‰å–é•œåƒ" class="md-nav__link">
    äºŒã€Dockeræ‹‰å–é•œåƒ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ä¸‰dockeræŒ‚è½½é…ç½®æ–‡ä»¶" class="md-nav__link">
    ä¸‰ã€DockeræŒ‚è½½é…ç½®æ–‡ä»¶
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#å››å¯åŠ¨redis-å®¹å™¨" class="md-nav__link">
    å››ã€å¯åŠ¨redis å®¹å™¨
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#äº”æµ‹è¯•" class="md-nav__link">
    äº”ã€æµ‹è¯•
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#å…­é…ç½®æ–‡ä»¶" class="md-nav__link">
    å…­ã€é…ç½®æ–‡ä»¶
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#å‚è€ƒæ–‡ç« " class="md-nav__link">
    å‚è€ƒæ–‡ç« 
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              

<!-- å°†å¹¿å‘Šä»£ç æ”¾åœ¨å†…å®¹ä¿¡æ¯æµçš„ HTML ä¸­é—´ -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3116684949286138"
  crossorigin="anonymous"></script>
<ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-gw-3+1f-3d+2z"
  data-ad-client="ca-pub-3116684949286138" data-ad-slot="1958221910"></ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>

  
                
  <a href="https://github.com/msgrams/msgrams.github.io/edit/main/docs/pc/raspberry/redis.md" title="ç¼–è¾‘æ­¤é¡µ" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  

  <nav class="md-tags" >
    
      
        <a href="../../../tags/#raspberry" class="md-tag">
          Raspberry
        </a>
      
    
  </nav>



  <h1>æ ‘è“æ´¾å®‰è£…Redis</h1>

<h2 id="ä¸€dockeræœç´¢redisé•œåƒ">ä¸€ã€Dockeræœç´¢redisé•œåƒ<a class="headerlink" href="#ä¸€dockeræœç´¢redisé•œåƒ" title="Permanent link">ğŸª</a></h2>
<blockquote>
<p>å‘½ä»¤ï¼šdocker search &lt;é•œåƒåç§°&gt;</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>docker search redis
</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šredisçš„é•œåƒï¼Œæ­¤å¤„å› æ²¡æœ‰æŒ‡å®šç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸‹è½½çš„å°±æ˜¯é»˜è®¤çš„æœ€æ–°ç‰ˆæœ¬ ã€‚<strong>redis latest.</strong></p>
<h2 id="äºŒdockeræ‹‰å–é•œåƒ">äºŒã€Dockeræ‹‰å–é•œåƒ<a class="headerlink" href="#äºŒdockeræ‹‰å–é•œåƒ" title="Permanent link">ğŸª</a></h2>
<blockquote>
<p>å‘½ä»¤ï¼šï¼šdocker pull &lt;é•œåƒåç§°&gt;:&lt;ç‰ˆæœ¬å·&gt;</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>docker pull redis
</code></pre></div>
<h2 id="ä¸‰dockeræŒ‚è½½é…ç½®æ–‡ä»¶">ä¸‰ã€DockeræŒ‚è½½é…ç½®æ–‡ä»¶<a class="headerlink" href="#ä¸‰dockeræŒ‚è½½é…ç½®æ–‡ä»¶" title="Permanent link">ğŸª</a></h2>
<p>æ¥ä¸‹æ¥å°±æ˜¯è¦å°†redis çš„é…ç½®æ–‡ä»¶è¿›è¡ŒæŒ‚è½½ï¼Œä»¥é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨redis å®¹å™¨ã€‚ï¼ˆæŒ‚è½½ï¼šå³å°†å®¿ä¸»çš„æ–‡ä»¶å’Œå®¹å™¨å†…éƒ¨ç›®å½•ç›¸å…³è”ï¼Œç›¸äº’ç»‘å®šï¼Œåœ¨å®¿ä¸»æœºå†…ä¿®æ”¹æ–‡ä»¶çš„è¯ä¹Ÿéšä¹‹ä¿®æ”¹å®¹å™¨å†…éƒ¨æ–‡ä»¶ï¼‰</p>
<p>1ï¼‰ã€æŒ‚è½½ redis çš„é…ç½®æ–‡ä»¶</p>
<p>2ï¼‰ã€æŒ‚è½½ redis çš„æŒä¹…åŒ–æ–‡ä»¶ï¼ˆä¸ºäº†æ•°æ®çš„æŒä¹…åŒ–ï¼‰ã€‚</p>
<p>æœ¬äººçš„é…ç½®æ–‡ä»¶æ˜¯æ”¾åœ¨</p>
<p>liunx ä¸‹redis.confæ–‡ä»¶ä½ç½®ï¼š/home/pi/soft/redis/redis.conf</p>
<p>liunx ä¸‹redisçš„dataæ–‡ä»¶ä½ç½® ï¼š/home/pi/soft/redis/data</p>
<h2 id="å››å¯åŠ¨redis-å®¹å™¨">å››ã€å¯åŠ¨redis å®¹å™¨<a class="headerlink" href="#å››å¯åŠ¨redis-å®¹å™¨" title="Permanent link">ğŸª</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo docker run -p <span class="m">6379</span>:6379 --name redis -v /home/pi/soft/redis/redis.conf:/etc/redis/redis.conf -v /home/pi/soft/redis/data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes --restart<span class="o">=</span>always --log-opt max-size<span class="o">=</span>100m --log-opt max-file<span class="o">=</span><span class="m">2</span> --requirepass password
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>--restart=always æ€»æ˜¯å¼€æœºå¯åŠ¨
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>--logæ˜¯æ—¥å¿—æ–¹é¢çš„
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>-p 6379:6379 å°†6379ç«¯å£æŒ‚è½½å‡ºå»
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>--name ç»™è¿™ä¸ªå®¹å™¨å–ä¸€ä¸ªåå­—
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>-v æ•°æ®å·æŒ‚è½½
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    -/home/pi/soft/redis/redis.conf:/etc/redis/redis.conf:/etc/redis/redis.conf è¿™é‡Œæ˜¯å°† liunx è·¯å¾„ä¸‹çš„redis.conf å’Œ redisä¸‹çš„redis.conf æŒ‚è½½åœ¨ä¸€èµ·ã€‚
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    - /home/pi/soft/redis/data:/data è¿™ä¸ªåŒä¸Š
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>-d redis è¡¨ç¤ºåå°å¯åŠ¨redis
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>redis-server /etc/redis/redis.conf ä»¥é…ç½®æ–‡ä»¶å¯åŠ¨redisï¼ŒåŠ è½½å®¹å™¨å†…çš„confæ–‡ä»¶ï¼Œæœ€ç»ˆæ‰¾åˆ°çš„æ˜¯æŒ‚è½½çš„ç›®å½• /etc/redis/redis.conf ä¹Ÿå°±æ˜¯liunxä¸‹çš„/home/pi/soft/redis/redis.conf
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>â€“appendonly yes å¼€å¯redis æŒä¹…åŒ–
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>â€“requirepass password è®¾ç½®å¯†ç  ï¼ˆå¦‚æœä½ æ˜¯é€šè¿‡docker å®¹å™¨å†…éƒ¨è¿æ¥çš„è¯ï¼Œå°±éšæ„ï¼Œå¯è®¾å¯ä¸è®¾ã€‚ä½†æ˜¯å¦‚æœæƒ³å‘å¤–å¼€æ”¾çš„è¯ï¼Œä¸€å®šè¦è®¾ç½®ï¼‰
</code></pre></div>
<p>æŠ¥é”™</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>*** FATAL CONFIG FILE ERROR <span class="o">(</span>Redis <span class="m">6</span>.2.6<span class="o">)</span> ***
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Reading the configuration file, at line <span class="m">624</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>&gt;&gt;&gt; <span class="s1">&#39;repl-diskless-sync-max-replicas 0&#39;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>Bad directive or wrong number of arguments
</code></pre></div>
<p>è§£å†³ï¼š redis.conf ç‰ˆæœ¬ä¸docker pull redisæœ€æ–°ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´æŠ¥é”™ï¼ï¼ï¼</p>
<h2 id="äº”æµ‹è¯•">äº”ã€æµ‹è¯•<a class="headerlink" href="#äº”æµ‹è¯•" title="Permanent link">ğŸª</a></h2>
<p>1ã€é€šè¿‡docker psæŒ‡ä»¤æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>docker ps -a <span class="p">|</span> grep redis <span class="c1"># é€šè¿‡docker psæŒ‡ä»¤æŸ¥çœ‹å¯åŠ¨çŠ¶æ€ï¼Œæ˜¯å¦æˆåŠŸ.</span>
</code></pre></div>
<p>2ã€æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—</p>
<blockquote>
<p>å‘½ä»¤ï¼šdocker logs --since 30m &lt;å®¹å™¨å&gt;</p>
</blockquote>
<p>æ­¤å¤„Â <code>--since 30m</code>Â æ˜¯æŸ¥çœ‹æ­¤å®¹å™¨30åˆ†é’Ÿä¹‹å†…çš„æ—¥å¿—æƒ…å†µã€‚</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>docker logs --since 30m myredis
</code></pre></div>
<p>3ã€å®¹å™¨å†…éƒ¨è¿æ¥è¿›è¡Œæµ‹è¯•</p>
<p>è¿›å…¥å®¹å™¨</p>
<blockquote>
<p>å‘½ä»¤ï¼šdocker exec -it &lt;å®¹å™¨å&gt; /bin/bash</p>
</blockquote>
<p>æ­¤å¤„è·Ÿç€çš„ redis-cli æ˜¯ç›´æ¥å°†å‘½ä»¤è¾“åœ¨ä¸Šé¢äº†ã€‚
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>docker <span class="nb">exec</span> -it redis redis-cli
</code></pre></div></p>
<p>è¿›å…¥ä¹‹åï¼Œè¾“å…¥æŸ¥çœ‹å‘½ä»¤ï¼š</p>
<p>erroræ˜¯æ²¡æœ‰æƒé™éªŒè¯ã€‚<del>ï¼ˆå› ä¸ºè®¾ç½®äº†å¯†ç çš„ã€‚ï¼‰</del></p>
<p><strong>éªŒè¯å¯†ç ï¼š</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>auth å¯†ç 
</code></pre></div>
<p><strong>æŸ¥çœ‹å½“å‰redisæœ‰æ²¡æœ‰è®¾ç½®å¯†ç ï¼š</strong><del>ï¼ˆå¾—éªŒè¯é€šè¿‡äº†æ‰èƒ½è¾“å…¥çš„ï¼‰</del></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>config get requirepass
</code></pre></div>
<h2 id="å…­é…ç½®æ–‡ä»¶">å…­ã€é…ç½®æ–‡ä»¶<a class="headerlink" href="#å…­é…ç½®æ–‡ä»¶" title="Permanent link">ğŸª</a></h2>
<p><strong>redis6.2.6-Chinese.conf</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>#redis é…ç½®
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>################################## é…ç½® include ###################################
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a># åŠ è½½é…ç½®æ–‡ä»¶
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a># include /path/to/local.conf
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a># include /path/to/other.conf
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>################################## æ¨¡å— #####################################
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a># åŠ è½½æ¨¡å—
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a># loadmodule /path/to/my_module.so
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a># loadmodule /path/to/other_module.so
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>################################## ç½‘ç»œ #####################################
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>#æŒ‡å®š redis åªæ¥æ”¶æ¥è‡ªäºè¯¥IPåœ°å€çš„è¯·æ±‚ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå°†å¤„ç†æ‰€æœ‰è¯·æ±‚
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>#bind 127.0.0.1 -::1
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>#æ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ã€‚è¦æ˜¯é…ç½®é‡Œæ²¡æœ‰æŒ‡å®šbindå’Œå¯†ç ã€‚å¼€å¯è¯¥å‚æ•°åï¼Œredisåªä¼šæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œ
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>#æ‹’ç»å¤–éƒ¨è®¿é—®ã€‚è¦æ˜¯å¼€å¯äº†å¯†ç å’Œbindï¼Œå¯ä»¥å¼€å¯ã€‚å¦åˆ™æœ€å¥½å…³é—­ï¼Œè®¾ç½®ä¸ºno
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>protected-mode no
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>#tcp keepaliveå‚æ•°ã€‚å¦‚æœè®¾ç½®ä¸ä¸º0ï¼Œå°±ä½¿ç”¨é…ç½®tcpçš„SO_KEEPALIVEå€¼ï¼Œ
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>#ä½¿ç”¨keepaliveæœ‰ä¸¤ä¸ªå¥½å¤„:æ£€æµ‹æŒ‚æ‰çš„å¯¹ç«¯ã€‚é™ä½ä¸­é—´è®¾å¤‡å‡ºé—®é¢˜è€Œå¯¼è‡´ç½‘ç»œçœ‹ä¼¼è¿æ¥å´å·²ç»ä¸å¯¹ç«¯ç«¯å£çš„é—®é¢˜ã€‚
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>#åœ¨Linuxå†…æ ¸ä¸­ï¼Œè®¾ç½®äº†keepaliveï¼Œredisä¼šå®šæ—¶ç»™å¯¹ç«¯å‘é€ackã€‚æ£€æµ‹åˆ°å¯¹ç«¯å…³é—­éœ€è¦ä¸¤å€çš„è®¾ç½®å€¼
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>tcp-keepalive 300
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>################################# TLS/SSL #####################################
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a># é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦ç”¨TLS / SSLã€‚è¦å¯ç”¨å®ƒï¼Œè¯·ä½¿ç”¨â€œ tls-portâ€é…ç½®ã€‚
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a># tls-port 6379
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a># tls-cert-file redis.crt 
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a># tls-key-file redis.key
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a># tls-key-file-pass secret
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a># tls-client-cert-file client.crt
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a># tls-client-key-file client.key
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a># tls-client-key-file-pass secret
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a># tls-dh-params-file redis.dh
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a># tls-ca-cert-file ca.crt
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a># tls-ca-cert-dir /etc/ssl/certs
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a># tls-auth-clients no
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a># tls-auth-clients optional
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a># tls-replication yes
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a># tls-cluster yes
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a># tls-ciphers DEFAULT:!MEDIUM
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a># tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a># tls-prefer-server-ciphers yes
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a># tls-session-caching no
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a>
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a># tls-session-cache-size 5000
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a>
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a># tls-session-cache-timeout 60
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a>
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a>
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a>################################# é€šç”¨ #####################################
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a>
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a>
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a># æ˜¯å¦åå°å¯åŠ¨ï¼ˆé™é»˜ï¼‰
<a id="__codelineno-10-76" name="__codelineno-10-76" href="#__codelineno-10-76"></a>daemonize yes
<a id="__codelineno-10-77" name="__codelineno-10-77" href="#__codelineno-10-77"></a>
<a id="__codelineno-10-78" name="__codelineno-10-78" href="#__codelineno-10-78"></a># å¯ä»¥é€šè¿‡upstartå’Œsystemdç®¡ç†Rediså®ˆæŠ¤è¿›ç¨‹ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å’Œå…·ä½“çš„æ“ä½œç³»ç»Ÿç›¸å…³çš„
<a id="__codelineno-10-79" name="__codelineno-10-79" href="#__codelineno-10-79"></a># supervised auto
<a id="__codelineno-10-80" name="__codelineno-10-80" href="#__codelineno-10-80"></a>
<a id="__codelineno-10-81" name="__codelineno-10-81" href="#__codelineno-10-81"></a># redisçš„è¿›ç¨‹æ–‡ä»¶ 
<a id="__codelineno-10-82" name="__codelineno-10-82" href="#__codelineno-10-82"></a>pidfile /var/run/redis_6379.pid
<a id="__codelineno-10-83" name="__codelineno-10-83" href="#__codelineno-10-83"></a>
<a id="__codelineno-10-84" name="__codelineno-10-84" href="#__codelineno-10-84"></a>#æŒ‡å®šäº†æœåŠ¡ç«¯æ—¥å¿—çš„çº§åˆ«ã€‚çº§åˆ«åŒ…æ‹¬ï¼šdebugï¼ˆå¾ˆå¤šä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘ã€æµ‹è¯•ï¼‰ï¼Œverboseï¼ˆè®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼‰
<a id="__codelineno-10-85" name="__codelineno-10-85" href="#__codelineno-10-85"></a>#noticeï¼ˆé€‚å½“çš„æ—¥å¿—çº§åˆ«ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œwarnï¼ˆåªæœ‰éå¸¸é‡è¦çš„ä¿¡æ¯ï¼‰
<a id="__codelineno-10-86" name="__codelineno-10-86" href="#__codelineno-10-86"></a>loglevel notice
<a id="__codelineno-10-87" name="__codelineno-10-87" href="#__codelineno-10-87"></a>
<a id="__codelineno-10-88" name="__codelineno-10-88" href="#__codelineno-10-88"></a>
<a id="__codelineno-10-89" name="__codelineno-10-89" href="#__codelineno-10-89"></a>#æŒ‡å®šäº†è®°å½•æ—¥å¿—çš„æ–‡ä»¶ã€‚ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚åå°è¿è¡Œçš„redisæ ‡å‡†è¾“å‡ºæ˜¯/dev/null
<a id="__codelineno-10-90" name="__codelineno-10-90" href="#__codelineno-10-90"></a>logfile &quot;&quot;
<a id="__codelineno-10-91" name="__codelineno-10-91" href="#__codelineno-10-91"></a>
<a id="__codelineno-10-92" name="__codelineno-10-92" href="#__codelineno-10-92"></a>
<a id="__codelineno-10-93" name="__codelineno-10-93" href="#__codelineno-10-93"></a>#æ˜¯å¦æ‰“å¼€è®°å½•syslogåŠŸèƒ½
<a id="__codelineno-10-94" name="__codelineno-10-94" href="#__codelineno-10-94"></a># syslog-enabled no
<a id="__codelineno-10-95" name="__codelineno-10-95" href="#__codelineno-10-95"></a>
<a id="__codelineno-10-96" name="__codelineno-10-96" href="#__codelineno-10-96"></a>
<a id="__codelineno-10-97" name="__codelineno-10-97" href="#__codelineno-10-97"></a>#syslogçš„æ ‡è¯†ç¬¦
<a id="__codelineno-10-98" name="__codelineno-10-98" href="#__codelineno-10-98"></a># syslog-ident redis
<a id="__codelineno-10-99" name="__codelineno-10-99" href="#__codelineno-10-99"></a>
<a id="__codelineno-10-100" name="__codelineno-10-100" href="#__codelineno-10-100"></a>
<a id="__codelineno-10-101" name="__codelineno-10-101" href="#__codelineno-10-101"></a>#æ—¥å¿—çš„æ¥æºã€è®¾å¤‡.
<a id="__codelineno-10-102" name="__codelineno-10-102" href="#__codelineno-10-102"></a># syslog-facility local0
<a id="__codelineno-10-103" name="__codelineno-10-103" href="#__codelineno-10-103"></a>
<a id="__codelineno-10-104" name="__codelineno-10-104" href="#__codelineno-10-104"></a>
<a id="__codelineno-10-105" name="__codelineno-10-105" href="#__codelineno-10-105"></a>#æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“æ˜¯0ã€‚å¯ä»¥é€šè¿‡â€SELECT ã€æ•°æ®åº“åºå·ã€‘â€œå‘½ä»¤é€‰æ‹©ä¸€ä¸ªæ•°æ®åº“ï¼Œåºå·ä»0å¼€å§‹
<a id="__codelineno-10-106" name="__codelineno-10-106" href="#__codelineno-10-106"></a>databases 16
<a id="__codelineno-10-107" name="__codelineno-10-107" href="#__codelineno-10-107"></a>
<a id="__codelineno-10-108" name="__codelineno-10-108" href="#__codelineno-10-108"></a># æ˜¯å¦æ˜¾ç¤ºredis logo
<a id="__codelineno-10-109" name="__codelineno-10-109" href="#__codelineno-10-109"></a>always-show-logo no
<a id="__codelineno-10-110" name="__codelineno-10-110" href="#__codelineno-10-110"></a>
<a id="__codelineno-10-111" name="__codelineno-10-111" href="#__codelineno-10-111"></a># By default, Redis modifies the process title (as seen in &#39;top&#39; and &#39;ps&#39;) to
<a id="__codelineno-10-112" name="__codelineno-10-112" href="#__codelineno-10-112"></a># provide some runtime information. It is possible to disable this and leave
<a id="__codelineno-10-113" name="__codelineno-10-113" href="#__codelineno-10-113"></a># the process name as executed by setting the following to no.
<a id="__codelineno-10-114" name="__codelineno-10-114" href="#__codelineno-10-114"></a>set-proc-title yes
<a id="__codelineno-10-115" name="__codelineno-10-115" href="#__codelineno-10-115"></a>
<a id="__codelineno-10-116" name="__codelineno-10-116" href="#__codelineno-10-116"></a># When changing the process title, Redis uses the following template to construct
<a id="__codelineno-10-117" name="__codelineno-10-117" href="#__codelineno-10-117"></a># the modified title.
<a id="__codelineno-10-118" name="__codelineno-10-118" href="#__codelineno-10-118"></a>#
<a id="__codelineno-10-119" name="__codelineno-10-119" href="#__codelineno-10-119"></a># Template variables are specified in curly brackets. The following variables are
<a id="__codelineno-10-120" name="__codelineno-10-120" href="#__codelineno-10-120"></a># supported:
<a id="__codelineno-10-121" name="__codelineno-10-121" href="#__codelineno-10-121"></a>#
<a id="__codelineno-10-122" name="__codelineno-10-122" href="#__codelineno-10-122"></a># {title}           Name of process as executed if parent, or type of child process.
<a id="__codelineno-10-123" name="__codelineno-10-123" href="#__codelineno-10-123"></a># {listen-addr}     Bind address or &#39;*&#39; followed by TCP or TLS port listening on, or
<a id="__codelineno-10-124" name="__codelineno-10-124" href="#__codelineno-10-124"></a>#                   Unix socket if only that&#39;s available.
<a id="__codelineno-10-125" name="__codelineno-10-125" href="#__codelineno-10-125"></a># {server-mode}     Special mode, i.e. &quot;[sentinel]&quot; or &quot;[cluster]&quot;.
<a id="__codelineno-10-126" name="__codelineno-10-126" href="#__codelineno-10-126"></a># {port}            TCP port listening on, or 0.
<a id="__codelineno-10-127" name="__codelineno-10-127" href="#__codelineno-10-127"></a># {tls-port}        TLS port listening on, or 0.
<a id="__codelineno-10-128" name="__codelineno-10-128" href="#__codelineno-10-128"></a># {unixsocket}      Unix domain socket listening on, or &quot;&quot;.
<a id="__codelineno-10-129" name="__codelineno-10-129" href="#__codelineno-10-129"></a># {config-file}     Name of configuration file used.
<a id="__codelineno-10-130" name="__codelineno-10-130" href="#__codelineno-10-130"></a>#
<a id="__codelineno-10-131" name="__codelineno-10-131" href="#__codelineno-10-131"></a>proc-title-template &quot;{title} {listen-addr} {server-mode}&quot;
<a id="__codelineno-10-132" name="__codelineno-10-132" href="#__codelineno-10-132"></a>
<a id="__codelineno-10-133" name="__codelineno-10-133" href="#__codelineno-10-133"></a>################################ rdbå¿«ç…§æŒä¹…åŒ–  ################################
<a id="__codelineno-10-134" name="__codelineno-10-134" href="#__codelineno-10-134"></a>
<a id="__codelineno-10-135" name="__codelineno-10-135" href="#__codelineno-10-135"></a># rdb æŒä¹…åŒ–è§¦å‘   æ¯seconds(ç§’)æœ‰changes(ä¸ª)é”®æ”¹å˜ åœ¨è§¦å‘ä¸€æ¬¡rdbæŒä¹…åŒ–
<a id="__codelineno-10-136" name="__codelineno-10-136" href="#__codelineno-10-136"></a># save &lt;seconds&gt; &lt;changes&gt;
<a id="__codelineno-10-137" name="__codelineno-10-137" href="#__codelineno-10-137"></a>
<a id="__codelineno-10-138" name="__codelineno-10-138" href="#__codelineno-10-138"></a>#
<a id="__codelineno-10-139" name="__codelineno-10-139" href="#__codelineno-10-139"></a># save 3600 1
<a id="__codelineno-10-140" name="__codelineno-10-140" href="#__codelineno-10-140"></a># save 300 100
<a id="__codelineno-10-141" name="__codelineno-10-141" href="#__codelineno-10-141"></a># save 60 10000
<a id="__codelineno-10-142" name="__codelineno-10-142" href="#__codelineno-10-142"></a>
<a id="__codelineno-10-143" name="__codelineno-10-143" href="#__codelineno-10-143"></a>
<a id="__codelineno-10-144" name="__codelineno-10-144" href="#__codelineno-10-144"></a>#å½“RDBæŒä¹…åŒ–å‡ºç°é”™è¯¯åï¼Œæ˜¯å¦ä¾ç„¶è¿›è¡Œç»§ç»­è¿›è¡Œå·¥ä½œï¼Œyesï¼šä¸èƒ½è¿›è¡Œå·¥ä½œï¼Œnoï¼šå¯ä»¥ç»§ç»­è¿›è¡Œå·¥ä½œ
<a id="__codelineno-10-145" name="__codelineno-10-145" href="#__codelineno-10-145"></a>stop-writes-on-bgsave-error yes
<a id="__codelineno-10-146" name="__codelineno-10-146" href="#__codelineno-10-146"></a>
<a id="__codelineno-10-147" name="__codelineno-10-147" href="#__codelineno-10-147"></a># é…ç½®å­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸ºyesã€‚Redisé‡‡ç”¨LZFå‹ç¼©æ–¹å¼ï¼Œä½†å ç”¨äº†ä¸€ç‚¹CPUçš„æ—¶é—´ã€‚
<a id="__codelineno-10-148" name="__codelineno-10-148" href="#__codelineno-10-148"></a># è‹¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§ã€‚å»ºè®®å¼€å¯ã€‚
<a id="__codelineno-10-149" name="__codelineno-10-149" href="#__codelineno-10-149"></a>rdbcompression yes
<a id="__codelineno-10-150" name="__codelineno-10-150" href="#__codelineno-10-150"></a>
<a id="__codelineno-10-151" name="__codelineno-10-151" href="#__codelineno-10-151"></a>#æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶;ä»rdbæ ¼å¼çš„ç¬¬äº”ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨rdbæ–‡ä»¶çš„æœ«å°¾ä¼šå¸¦ä¸ŠCRC64çš„æ ¡éªŒå’Œã€‚
<a id="__codelineno-10-152" name="__codelineno-10-152" href="#__codelineno-10-152"></a>#è¿™è·Ÿæœ‰åˆ©äºæ–‡ä»¶çš„å®¹é”™æ€§ï¼Œä½†æ˜¯åœ¨ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰å¤§æ¦‚10%çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¦‚æœä½ è¿½æ±‚é«˜æ€§èƒ½ï¼Œå¯ä»¥å…³é—­è¯¥é…ç½®
<a id="__codelineno-10-153" name="__codelineno-10-153" href="#__codelineno-10-153"></a>rdbchecksum yes
<a id="__codelineno-10-154" name="__codelineno-10-154" href="#__codelineno-10-154"></a>
<a id="__codelineno-10-155" name="__codelineno-10-155" href="#__codelineno-10-155"></a># rdbå¿«ç…§æ–‡ä»¶å­˜å‚¨åœ°å€
<a id="__codelineno-10-156" name="__codelineno-10-156" href="#__codelineno-10-156"></a>dbfilename dump.rdb
<a id="__codelineno-10-157" name="__codelineno-10-157" href="#__codelineno-10-157"></a>
<a id="__codelineno-10-158" name="__codelineno-10-158" href="#__codelineno-10-158"></a># åœ¨æ²¡æœ‰æŒä¹…æ€§çš„æƒ…å†µä¸‹åˆ é™¤å¤åˆ¶ä¸­ä½¿ç”¨çš„RDBæ–‡ä»¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¿æŒé»˜è®¤å³å¯
<a id="__codelineno-10-159" name="__codelineno-10-159" href="#__codelineno-10-159"></a>rdb-del-sync-files no
<a id="__codelineno-10-160" name="__codelineno-10-160" href="#__codelineno-10-160"></a>
<a id="__codelineno-10-161" name="__codelineno-10-161" href="#__codelineno-10-161"></a>æ•°æ®ç›®å½•ï¼Œæ•°æ®åº“çš„å†™å…¥ä¼šåœ¨è¿™ä¸ªç›®å½•ã€‚rdbã€aofæ–‡ä»¶ä¹Ÿä¼šå†™åœ¨è¿™ä¸ªç›®å½•
<a id="__codelineno-10-162" name="__codelineno-10-162" href="#__codelineno-10-162"></a>dir ./
<a id="__codelineno-10-163" name="__codelineno-10-163" href="#__codelineno-10-163"></a>
<a id="__codelineno-10-164" name="__codelineno-10-164" href="#__codelineno-10-164"></a>################################# ä¸»ä»é›†ç¾¤ #################################
<a id="__codelineno-10-165" name="__codelineno-10-165" href="#__codelineno-10-165"></a>
<a id="__codelineno-10-166" name="__codelineno-10-166" href="#__codelineno-10-166"></a>#
<a id="__codelineno-10-167" name="__codelineno-10-167" href="#__codelineno-10-167"></a># å½“æœ¬æœºä¸ºä»æœåŠ¡æ—¶ï¼Œè®¾ç½®ä¸»æœåŠ¡çš„IPåŠç«¯å£ã€‚ä¾‹å¦‚ï¼šreplicaof 192.168.233.233 6379ã€‚
<a id="__codelineno-10-168" name="__codelineno-10-168" href="#__codelineno-10-168"></a># replicaof &lt;masterip&gt; &lt;masterport&gt;
<a id="__codelineno-10-169" name="__codelineno-10-169" href="#__codelineno-10-169"></a>
<a id="__codelineno-10-170" name="__codelineno-10-170" href="#__codelineno-10-170"></a>#å½“æœ¬æœºä¸ºä»æœåŠ¡æ—¶ï¼Œè®¾ç½®ä¸»æœåŠ¡çš„è¿æ¥å¯†ç 
<a id="__codelineno-10-171" name="__codelineno-10-171" href="#__codelineno-10-171"></a># masterauth &lt;master-password&gt;
<a id="__codelineno-10-172" name="__codelineno-10-172" href="#__codelineno-10-172"></a>
<a id="__codelineno-10-173" name="__codelineno-10-173" href="#__codelineno-10-173"></a># å½“æœ¬æœºä¸ºä»æœåŠ¡æ—¶ï¼Œè®¾ç½®ä¸»æœåŠ¡çš„ç”¨æˆ·å
<a id="__codelineno-10-174" name="__codelineno-10-174" href="#__codelineno-10-174"></a># masteruser &lt;username&gt;
<a id="__codelineno-10-175" name="__codelineno-10-175" href="#__codelineno-10-175"></a>
<a id="__codelineno-10-176" name="__codelineno-10-176" href="#__codelineno-10-176"></a>#å½“slaveå¤±å»ä¸masterçš„è¿æ¥ï¼Œæˆ–æ­£åœ¨æ‹·è´ä¸­ï¼Œ
<a id="__codelineno-10-177" name="__codelineno-10-177" href="#__codelineno-10-177"></a>#å¦‚æœä¸ºyesï¼Œslaveä¼šå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œæ•°æ®å¯èƒ½ä¸åŒæ­¥ç”šè‡³æ²¡æœ‰æ•°æ®ï¼Œ
<a id="__codelineno-10-178" name="__codelineno-10-178" href="#__codelineno-10-178"></a>#å¦‚æœä¸ºnoï¼Œslaveä¼šè¿”å›é”™è¯¯&quot;SYNC with master in progress&quot;
<a id="__codelineno-10-179" name="__codelineno-10-179" href="#__codelineno-10-179"></a>replica-serve-stale-data yes
<a id="__codelineno-10-180" name="__codelineno-10-180" href="#__codelineno-10-180"></a>
<a id="__codelineno-10-181" name="__codelineno-10-181" href="#__codelineno-10-181"></a># å¦‚æœä¸ºyesï¼Œslaveå®ä¾‹åªè¯»ï¼Œå¦‚æœä¸ºnoï¼Œslaveå®ä¾‹å¯è¯»å¯å†™
<a id="__codelineno-10-182" name="__codelineno-10-182" href="#__codelineno-10-182"></a>replica-read-only yes
<a id="__codelineno-10-183" name="__codelineno-10-183" href="#__codelineno-10-183"></a>
<a id="__codelineno-10-184" name="__codelineno-10-184" href="#__codelineno-10-184"></a># æ–°çš„æˆ–è€…é‡è¿åä¸èƒ½ç»§ç»­å¤‡ä»½çš„ä»æœåŠ¡å™¨ï¼Œéœ€è¦åšæ‰€è°“çš„â€œå®Œå…¨å¤‡ä»½â€ï¼Œå³å°†ä¸€ä¸ªRDBæ–‡ä»¶ä»ä¸»ç«™ä¼ é€åˆ°ä»ç«™ã€‚è¿™ä¸ªä¼ é€æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š
<a id="__codelineno-10-185" name="__codelineno-10-185" href="#__codelineno-10-185"></a># 1ã€ç¡¬ç›˜å¤‡ä»½ï¼šredisä¸»ç«™åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œç”¨äºæŠŠRDBæ–‡ä»¶å†™åˆ°ç¡¬ç›˜ä¸Šã€‚è¿‡ä¸€ä¼šå„¿ï¼Œå…¶çˆ¶è¿›ç¨‹é€’å¢åœ°å°†æ–‡ä»¶ä¼ é€ç»™ä»ç«™ã€‚
<a id="__codelineno-10-186" name="__codelineno-10-186" href="#__codelineno-10-186"></a># 2ã€æ— ç¡¬ç›˜å¤‡ä»½ï¼šredisä¸»ç«™åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå­è¿›ç¨‹ç›´æ¥æŠŠRDBæ–‡ä»¶å†™åˆ°ä»ç«™çš„å¥—æ¥å­—ï¼Œä¸éœ€è¦ç”¨åˆ°ç¡¬ç›˜ã€‚
<a id="__codelineno-10-187" name="__codelineno-10-187" href="#__codelineno-10-187"></a># åœ¨ç¡¬ç›˜å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œä¸»ç«™çš„å­è¿›ç¨‹ç”ŸæˆRDBæ–‡ä»¶ã€‚ä¸€æ—¦ç”Ÿæˆï¼Œå¤šä¸ªä»ç«™å¯ä»¥ç«‹å³æ’æˆé˜Ÿåˆ—ä½¿ç”¨ä¸»ç«™çš„RDBæ–‡ä»¶ã€‚
<a id="__codelineno-10-188" name="__codelineno-10-188" href="#__codelineno-10-188"></a>#åœ¨æ— ç¡¬ç›˜å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œä¸€æ¬¡RDBä¼ é€å¼€å§‹ï¼Œæ–°çš„ä»ç«™åˆ°è¾¾åï¼Œéœ€è¦ç­‰å¾…ç°åœ¨çš„ä¼ é€ç»“æŸï¼Œæ‰èƒ½å¼€å¯æ–°çš„ä¼ é€ã€‚
<a id="__codelineno-10-189" name="__codelineno-10-189" href="#__codelineno-10-189"></a>#å¦‚æœä½¿ç”¨æ— ç¡¬ç›˜å¤‡ä»½ï¼Œä¸»ç«™ä¼šåœ¨å¼€å§‹ä¼ é€ä¹‹é—´ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆå¯é…ç½®ï¼Œä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œå¸Œæœ›ç­‰å¾…å¤šä¸ªå­ç«™åˆ°è¾¾åå¹¶è¡Œä¼ é€ã€‚
<a id="__codelineno-10-190" name="__codelineno-10-190" href="#__codelineno-10-190"></a>repl-diskless-sync no
<a id="__codelineno-10-191" name="__codelineno-10-191" href="#__codelineno-10-191"></a>
<a id="__codelineno-10-192" name="__codelineno-10-192" href="#__codelineno-10-192"></a># æ— ç›˜å¤åˆ¶å»¶æ—¶å¼€å§‹ç§’æ•°ï¼Œé»˜è®¤æ˜¯5ç§’ï¼Œæ„æ€æ˜¯å½“PSYNCè§¦å‘çš„æ—¶å€™ï¼Œmasterå»¶æ—¶å¤šå°‘ç§’å¼€å§‹å‘masterä¼ é€æ•°æ®æµï¼Œ
<a id="__codelineno-10-193" name="__codelineno-10-193" href="#__codelineno-10-193"></a># ä»¥ä¾¿ç­‰å¾…æ›´å¤šçš„slaveè¿æ¥å¯ä»¥åŒæ—¶ä¼ é€æ•°æ®æµï¼Œ
<a id="__codelineno-10-194" name="__codelineno-10-194" href="#__codelineno-10-194"></a>#å› ä¸ºä¸€æ—¦PSYNCå¼€å§‹åï¼Œå¦‚æœæœ‰æ–°çš„slaveè¿æ¥masterï¼Œåªèƒ½ç­‰å¾…ä¸‹æ¬¡PSYNCã€‚å¯ä»¥é…ç½®ä¸º0å–æ¶ˆç­‰å¾…ï¼Œç«‹å³å¼€å§‹
<a id="__codelineno-10-195" name="__codelineno-10-195" href="#__codelineno-10-195"></a>repl-diskless-sync-delay 5
<a id="__codelineno-10-196" name="__codelineno-10-196" href="#__codelineno-10-196"></a>
<a id="__codelineno-10-197" name="__codelineno-10-197" href="#__codelineno-10-197"></a>#æ˜¯å¦ä½¿ç”¨æ— ç£ç›˜åŠ è½½ï¼Œæœ‰ä¸‰é¡¹ï¼š
<a id="__codelineno-10-198" name="__codelineno-10-198" href="#__codelineno-10-198"></a># 1ã€disabledï¼šä¸è¦ä½¿ç”¨æ— ç£ç›˜åŠ è½½ï¼Œå…ˆå°†rdbæ–‡ä»¶å­˜å‚¨åˆ°ç£ç›˜
<a id="__codelineno-10-199" name="__codelineno-10-199" href="#__codelineno-10-199"></a># 2ã€on-empty-dbï¼šåªæœ‰åœ¨å®Œå…¨å®‰å…¨çš„æƒ…å†µä¸‹æ‰ä½¿ç”¨æ— ç£ç›˜åŠ è½½
<a id="__codelineno-10-200" name="__codelineno-10-200" href="#__codelineno-10-200"></a># 3ã€swapdbï¼šè§£ææ—¶åœ¨RAMä¸­ä¿ç•™å½“å‰dbå†…å®¹çš„å‰¯æœ¬ï¼Œç›´æ¥ä»å¥—æ¥å­—è·å–æ•°æ®
<a id="__codelineno-10-201" name="__codelineno-10-201" href="#__codelineno-10-201"></a>repl-diskless-load disabled
<a id="__codelineno-10-202" name="__codelineno-10-202" href="#__codelineno-10-202"></a>
<a id="__codelineno-10-203" name="__codelineno-10-203" href="#__codelineno-10-203"></a># æŒ‡å®šslaveå®šæœŸping masterçš„å‘¨æœŸï¼Œé»˜è®¤10ç§’é’Ÿ
<a id="__codelineno-10-204" name="__codelineno-10-204" href="#__codelineno-10-204"></a># repl-ping-replica-period 10
<a id="__codelineno-10-205" name="__codelineno-10-205" href="#__codelineno-10-205"></a>
<a id="__codelineno-10-206" name="__codelineno-10-206" href="#__codelineno-10-206"></a># ä»æœåŠ¡pingä¸»æœåŠ¡çš„è¶…æ—¶æ—¶é—´ï¼Œè‹¥è¶…è¿‡repl-timeoutè®¾ç½®çš„æ—¶é—´ï¼Œslaveå°±ä¼šè®¤ä¸ºmasterå·²ç»å®•äº†
<a id="__codelineno-10-207" name="__codelineno-10-207" href="#__codelineno-10-207"></a># repl-timeout 60
<a id="__codelineno-10-208" name="__codelineno-10-208" href="#__codelineno-10-208"></a>
<a id="__codelineno-10-209" name="__codelineno-10-209" href="#__codelineno-10-209"></a># åœ¨slaveå’ŒmasteråŒæ­¥åï¼ˆå‘é€psync/syncï¼‰ï¼Œåç»­çš„åŒæ­¥æ˜¯å¦è®¾ç½®æˆTCP_NODELAY . 
<a id="__codelineno-10-210" name="__codelineno-10-210" href="#__codelineno-10-210"></a># å‡å¦‚è®¾ç½®æˆyesï¼Œåˆ™redisä¼šåˆå¹¶å°çš„TCPåŒ…ä»è€ŒèŠ‚çœå¸¦å®½ï¼Œä½†ä¼šå¢åŠ åŒæ­¥å»¶è¿Ÿï¼ˆ40msï¼‰ï¼Œ
<a id="__codelineno-10-211" name="__codelineno-10-211" href="#__codelineno-10-211"></a># é€ æˆmasterä¸slaveæ•°æ®ä¸ä¸€è‡´ å‡å¦‚è®¾ç½®æˆnoï¼Œåˆ™redis masterä¼šç«‹å³å‘é€åŒæ­¥æ•°æ®ï¼Œæ²¡æœ‰å»¶è¿Ÿã€‚
<a id="__codelineno-10-212" name="__codelineno-10-212" href="#__codelineno-10-212"></a>repl-disable-tcp-nodelay no
<a id="__codelineno-10-213" name="__codelineno-10-213" href="#__codelineno-10-213"></a>
<a id="__codelineno-10-214" name="__codelineno-10-214" href="#__codelineno-10-214"></a># è®¾ç½®ä¸»ä»å¤åˆ¶backlogå®¹é‡å¤§å°ã€‚è¿™ä¸ª backlog æ˜¯ä¸€ä¸ªç”¨æ¥åœ¨ slaves è¢«æ–­å¼€è¿æ¥æ—¶å­˜æ”¾ slave æ•°æ®çš„ bufferï¼Œ
<a id="__codelineno-10-215" name="__codelineno-10-215" href="#__codelineno-10-215"></a>#æ‰€ä»¥å½“ä¸€ä¸ª slave æƒ³è¦é‡æ–°è¿æ¥ï¼Œé€šå¸¸ä¸å¸Œæœ›å…¨éƒ¨é‡æ–°åŒæ­¥ï¼Œåªæ˜¯éƒ¨åˆ†åŒæ­¥å°±å¤Ÿäº†ï¼Œ
<a id="__codelineno-10-216" name="__codelineno-10-216" href="#__codelineno-10-216"></a>#ä»…ä»…ä¼ é€’ slave åœ¨æ–­å¼€è¿æ¥æ—¶ä¸¢å¤±çš„è¿™éƒ¨åˆ†æ•°æ®ã€‚è¿™ä¸ªå€¼è¶Šå¤§ï¼Œsalve å¯ä»¥æ–­å¼€è¿æ¥çš„æ—¶é—´å°±è¶Šé•¿
<a id="__codelineno-10-217" name="__codelineno-10-217" href="#__codelineno-10-217"></a># repl-backlog-size 1mb
<a id="__codelineno-10-218" name="__codelineno-10-218" href="#__codelineno-10-218"></a>
<a id="__codelineno-10-219" name="__codelineno-10-219" href="#__codelineno-10-219"></a># é…ç½®å½“masterå’Œslaveå¤±å»è”ç³»å¤šå°‘ç§’ä¹‹åï¼Œæ¸…ç©ºbacklogé‡Šæ”¾ç©ºé—´ã€‚å½“é…ç½®æˆ0æ—¶ï¼Œè¡¨ç¤ºæ°¸è¿œä¸æ¸…ç©º
<a id="__codelineno-10-220" name="__codelineno-10-220" href="#__codelineno-10-220"></a># repl-backlog-ttl 3600
<a id="__codelineno-10-221" name="__codelineno-10-221" href="#__codelineno-10-221"></a>
<a id="__codelineno-10-222" name="__codelineno-10-222" href="#__codelineno-10-222"></a>#å½“ master ä¸èƒ½æ­£å¸¸å·¥ä½œçš„æ—¶å€™ï¼ŒRedis Sentinel ä¼šä» slaves ä¸­é€‰å‡ºä¸€ä¸ªæ–°çš„ masterï¼Œ
<a id="__codelineno-10-223" name="__codelineno-10-223" href="#__codelineno-10-223"></a>#è¿™ä¸ªå€¼è¶Šå°ï¼Œå°±è¶Šä¼šè¢«ä¼˜å…ˆé€‰ä¸­ï¼Œä½†æ˜¯å¦‚æœæ˜¯ 0 ï¼Œ é‚£æ˜¯æ„å‘³ç€è¿™ä¸ª slave ä¸å¯èƒ½è¢«é€‰ä¸­ã€‚ é»˜è®¤ä¼˜å…ˆçº§ä¸º 100
<a id="__codelineno-10-224" name="__codelineno-10-224" href="#__codelineno-10-224"></a>replica-priority 100
<a id="__codelineno-10-225" name="__codelineno-10-225" href="#__codelineno-10-225"></a>
<a id="__codelineno-10-226" name="__codelineno-10-226" href="#__codelineno-10-226"></a>
<a id="__codelineno-10-227" name="__codelineno-10-227" href="#__codelineno-10-227"></a>
<a id="__codelineno-10-228" name="__codelineno-10-228" href="#__codelineno-10-228"></a>
<a id="__codelineno-10-229" name="__codelineno-10-229" href="#__codelineno-10-229"></a>################################## SECURITY(å®‰å…¨) ###################################
<a id="__codelineno-10-230" name="__codelineno-10-230" href="#__codelineno-10-230"></a>#ACLæ—¥å¿—å­˜å‚¨åœ¨å†…å­˜ä¸­å¹¶æ¶ˆè€—å†…å­˜ï¼Œè®¾ç½®æ­¤é¡¹å¯ä»¥è®¾ç½®æœ€å¤§å€¼æ¥å›æ”¶å†…å­˜
<a id="__codelineno-10-231" name="__codelineno-10-231" href="#__codelineno-10-231"></a>acllog-max-len 128
<a id="__codelineno-10-232" name="__codelineno-10-232" href="#__codelineno-10-232"></a>
<a id="__codelineno-10-233" name="__codelineno-10-233" href="#__codelineno-10-233"></a># acl æ—¥å¿—æ–‡ä»¶
<a id="__codelineno-10-234" name="__codelineno-10-234" href="#__codelineno-10-234"></a># aclfile /etc/redis/users.acl
<a id="__codelineno-10-235" name="__codelineno-10-235" href="#__codelineno-10-235"></a>
<a id="__codelineno-10-236" name="__codelineno-10-236" href="#__codelineno-10-236"></a># è®¾ç½®Redisè¿æ¥å¯†ç 
<a id="__codelineno-10-237" name="__codelineno-10-237" href="#__codelineno-10-237"></a>requirepass xiu123
<a id="__codelineno-10-238" name="__codelineno-10-238" href="#__codelineno-10-238"></a>
<a id="__codelineno-10-239" name="__codelineno-10-239" href="#__codelineno-10-239"></a># å°†å‘½ä»¤é‡å‘½åã€‚ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œå¯ä»¥å°†æŸäº›é‡è¦çš„ã€å±é™©çš„å‘½ä»¤é‡å‘½åã€‚
<a id="__codelineno-10-240" name="__codelineno-10-240" href="#__codelineno-10-240"></a>#å½“ä½ æŠŠæŸä¸ªå‘½ä»¤é‡å‘½åæˆç©ºå­—ç¬¦ä¸²çš„æ—¶å€™å°±ç­‰äºå–æ¶ˆäº†è¿™ä¸ªå‘½ä»¤ã€‚
<a id="__codelineno-10-241" name="__codelineno-10-241" href="#__codelineno-10-241"></a># rename-command CONFIG &quot;&quot;
<a id="__codelineno-10-242" name="__codelineno-10-242" href="#__codelineno-10-242"></a>
<a id="__codelineno-10-243" name="__codelineno-10-243" href="#__codelineno-10-243"></a>
<a id="__codelineno-10-244" name="__codelineno-10-244" href="#__codelineno-10-244"></a>################################### CLIENTS(å®¢æˆ·ç«¯) ####################################
<a id="__codelineno-10-245" name="__codelineno-10-245" href="#__codelineno-10-245"></a>
<a id="__codelineno-10-246" name="__codelineno-10-246" href="#__codelineno-10-246"></a># å®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°
<a id="__codelineno-10-247" name="__codelineno-10-247" href="#__codelineno-10-247"></a># maxclients 10000
<a id="__codelineno-10-248" name="__codelineno-10-248" href="#__codelineno-10-248"></a>
<a id="__codelineno-10-249" name="__codelineno-10-249" href="#__codelineno-10-249"></a>############################## MEMORY MANAGEMENT(å†…å­˜ç®¡ç†) ################################
<a id="__codelineno-10-250" name="__codelineno-10-250" href="#__codelineno-10-250"></a>
<a id="__codelineno-10-251" name="__codelineno-10-251" href="#__codelineno-10-251"></a># æŒ‡å®šRedisæœ€å¤§å†…å­˜é™åˆ¶ã€‚è¾¾åˆ°å†…å­˜é™åˆ¶æ—¶ï¼ŒRediså°†å°è¯•åˆ é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„Key
<a id="__codelineno-10-252" name="__codelineno-10-252" href="#__codelineno-10-252"></a># maxmemory &lt;bytes&gt;
<a id="__codelineno-10-253" name="__codelineno-10-253" href="#__codelineno-10-253"></a>
<a id="__codelineno-10-254" name="__codelineno-10-254" href="#__codelineno-10-254"></a># å­˜å‚¨åˆ°è¾¾æœ€å¤§å†…å­˜é™åˆ¶çš„keyåˆ é™¤ç­–ç•¥
<a id="__codelineno-10-255" name="__codelineno-10-255" href="#__codelineno-10-255"></a>#1.volatile-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„key (LRU:æœ€è¿‘ä½¿ç”¨ Least Recently Used )
<a id="__codelineno-10-256" name="__codelineno-10-256" href="#__codelineno-10-256"></a>#2.allkeys-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤ä»»ä½•key
<a id="__codelineno-10-257" name="__codelineno-10-257" href="#__codelineno-10-257"></a>#3.volatile-randomï¼šç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„éšæœºkey
<a id="__codelineno-10-258" name="__codelineno-10-258" href="#__codelineno-10-258"></a>#4.allkeys-randomï¼šç§»é™¤éšæœºkey
<a id="__codelineno-10-259" name="__codelineno-10-259" href="#__codelineno-10-259"></a>#5.volatile-ttlï¼šç§»é™¤å³å°†è¿‡æœŸçš„key(minor TTL)
<a id="__codelineno-10-260" name="__codelineno-10-260" href="#__codelineno-10-260"></a>#6.noevictionï¼šä¸ç§»é™¤ä»»ä½•keyï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªå†™é”™è¯¯ ã€‚é»˜è®¤é€‰é¡¹
<a id="__codelineno-10-261" name="__codelineno-10-261" href="#__codelineno-10-261"></a># maxmemory-policy noeviction
<a id="__codelineno-10-262" name="__codelineno-10-262" href="#__codelineno-10-262"></a>
<a id="__codelineno-10-263" name="__codelineno-10-263" href="#__codelineno-10-263"></a># LRU å’Œ minimal TTL ç®—æ³•éƒ½ä¸æ˜¯ç²¾å‡†çš„ç®—æ³•ï¼Œä½†æ˜¯ç›¸å¯¹ç²¾ç¡®çš„ç®—æ³•(ä¸ºäº†èŠ‚çœå†…å­˜)ï¼Œéšæ„ä½ å¯ä»¥é€‰æ‹©æ ·æœ¬å¤§å°è¿›è¡Œæ£€æµ‹
<a id="__codelineno-10-264" name="__codelineno-10-264" href="#__codelineno-10-264"></a># maxmemory-samples 5
<a id="__codelineno-10-265" name="__codelineno-10-265" href="#__codelineno-10-265"></a>
<a id="__codelineno-10-266" name="__codelineno-10-266" href="#__codelineno-10-266"></a># ä» Redis 5 å¼€å§‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œreplica èŠ‚ç‚¹ä¼šå¿½ç•¥ maxmemory è®¾ç½®ï¼ˆé™¤éåœ¨å‘ç”Ÿ failover åï¼Œæ­¤èŠ‚ç‚¹è¢«æå‡ä¸º master èŠ‚ç‚¹ï¼‰ã€‚
<a id="__codelineno-10-267" name="__codelineno-10-267" href="#__codelineno-10-267"></a># è¿™æ„å‘³ç€åªæœ‰ master æ‰ä¼šæ‰§è¡Œè¿‡æœŸåˆ é™¤ç­–ç•¥ï¼Œå¹¶ä¸” master åœ¨åˆ é™¤é”®ä¹‹åä¼šå¯¹ replica å‘é€ DEL å‘½ä»¤ã€‚
<a id="__codelineno-10-268" name="__codelineno-10-268" href="#__codelineno-10-268"></a># replica-ignore-maxmemory yes
<a id="__codelineno-10-269" name="__codelineno-10-269" href="#__codelineno-10-269"></a>
<a id="__codelineno-10-270" name="__codelineno-10-270" href="#__codelineno-10-270"></a>
<a id="__codelineno-10-271" name="__codelineno-10-271" href="#__codelineno-10-271"></a>############################# LAZY FREEING ï¼ˆæƒ°æ€§åˆ é™¤ï¼‰ ####################################
<a id="__codelineno-10-272" name="__codelineno-10-272" href="#__codelineno-10-272"></a>
<a id="__codelineno-10-273" name="__codelineno-10-273" href="#__codelineno-10-273"></a>
<a id="__codelineno-10-274" name="__codelineno-10-274" href="#__codelineno-10-274"></a># é’ˆå¯¹rediså†…å­˜ä½¿ç”¨è¾¾åˆ°maxmeoryï¼Œå¹¶è®¾ç½®æœ‰æ·˜æ±°ç­–ç•¥æ—¶ï¼Œåœ¨è¢«åŠ¨æ·˜æ±°é”®æ—¶ï¼Œæ˜¯å¦é‡‡ç”¨lazy freeæœºåˆ¶ã€‚
<a id="__codelineno-10-275" name="__codelineno-10-275" href="#__codelineno-10-275"></a># å› ä¸ºæ­¤åœºæ™¯å¼€å¯lazy free, å¯èƒ½ä½¿ç”¨æ·˜æ±°é”®çš„å†…å­˜é‡Šæ”¾ä¸åŠæ—¶ï¼Œå¯¼è‡´rediså†…å­˜è¶…ç”¨ï¼Œè¶…è¿‡maxmemoryçš„é™åˆ¶
<a id="__codelineno-10-276" name="__codelineno-10-276" href="#__codelineno-10-276"></a>lazyfree-lazy-eviction no
<a id="__codelineno-10-277" name="__codelineno-10-277" href="#__codelineno-10-277"></a>
<a id="__codelineno-10-278" name="__codelineno-10-278" href="#__codelineno-10-278"></a># é’ˆå¯¹è®¾ç½®æœ‰TTLçš„é”®ï¼Œè¾¾åˆ°è¿‡æœŸåï¼Œè¢«redisæ¸…ç†åˆ é™¤æ—¶æ˜¯å¦é‡‡ç”¨lazy freeæœºåˆ¶ã€‚
<a id="__codelineno-10-279" name="__codelineno-10-279" href="#__codelineno-10-279"></a># æ­¤åœºæ™¯å»ºè®®å¼€å¯ï¼Œå› TTLæœ¬èº«æ˜¯è‡ªé€‚åº”è°ƒæ•´çš„é€Ÿåº¦ã€‚
<a id="__codelineno-10-280" name="__codelineno-10-280" href="#__codelineno-10-280"></a>lazyfree-lazy-expire no
<a id="__codelineno-10-281" name="__codelineno-10-281" href="#__codelineno-10-281"></a>
<a id="__codelineno-10-282" name="__codelineno-10-282" href="#__codelineno-10-282"></a># é’ˆå¯¹æœ‰äº›æŒ‡ä»¤åœ¨å¤„ç†å·²å­˜åœ¨çš„é”®æ—¶ï¼Œä¼šå¸¦æœ‰ä¸€ä¸ªéšå¼çš„DELé”®çš„æ“ä½œã€‚å¦‚renameå‘½ä»¤ï¼Œå½“ç›®æ ‡é”®å·²å­˜åœ¨,redisä¼šå…ˆåˆ é™¤ç›®æ ‡é”®ï¼Œ
<a id="__codelineno-10-283" name="__codelineno-10-283" href="#__codelineno-10-283"></a># å¦‚æœè¿™äº›ç›®æ ‡é”®æ˜¯ä¸€ä¸ªbig key,é‚£å°±ä¼šå¼•å…¥é˜»å¡åˆ é™¤çš„æ€§èƒ½é—®é¢˜ã€‚ æ­¤å‚æ•°è®¾ç½®å°±æ˜¯è§£å†³è¿™ç±»é—®é¢˜ï¼Œå»ºè®®å¯å¼€å¯ã€‚
<a id="__codelineno-10-284" name="__codelineno-10-284" href="#__codelineno-10-284"></a>lazyfree-lazy-server-del no
<a id="__codelineno-10-285" name="__codelineno-10-285" href="#__codelineno-10-285"></a>
<a id="__codelineno-10-286" name="__codelineno-10-286" href="#__codelineno-10-286"></a># é’ˆå¯¹slaveè¿›è¡Œå…¨é‡æ•°æ®åŒæ­¥ï¼Œslaveåœ¨åŠ è½½masterçš„RDBæ–‡ä»¶å‰ï¼Œä¼šè¿è¡Œflushallæ¥æ¸…ç†è‡ªå·±çš„æ•°æ®åœºæ™¯ï¼Œå‚æ•°è®¾ç½®å†³å®šæ˜¯å¦é‡‡ç”¨å¼‚å¸¸flushæœºåˆ¶ã€‚
<a id="__codelineno-10-287" name="__codelineno-10-287" href="#__codelineno-10-287"></a># å¦‚æœå†…å­˜å˜åŠ¨ä¸å¤§ï¼Œå»ºè®®å¯å¼€å¯ã€‚å¯å‡å°‘å…¨é‡åŒæ­¥è€—æ—¶ï¼Œä»è€Œå‡å°‘ä¸»åº“å› è¾“å‡ºç¼“å†²åŒºçˆ†æ¶¨å¼•èµ·çš„å†…å­˜ä½¿ç”¨å¢é•¿
<a id="__codelineno-10-288" name="__codelineno-10-288" href="#__codelineno-10-288"></a>replica-lazy-flush no
<a id="__codelineno-10-289" name="__codelineno-10-289" href="#__codelineno-10-289"></a>
<a id="__codelineno-10-290" name="__codelineno-10-290" href="#__codelineno-10-290"></a># å¯¹äºæ›¿æ¢ç”¨æˆ·ä»£ç DELè°ƒç”¨çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥è¿™æ ·åš
<a id="__codelineno-10-291" name="__codelineno-10-291" href="#__codelineno-10-291"></a># ä½¿ç”¨UNLINKè°ƒç”¨æ˜¯ä¸å®¹æ˜“çš„ï¼Œè¦ä¿®æ”¹DELçš„é»˜è®¤è¡Œä¸º
<a id="__codelineno-10-292" name="__codelineno-10-292" href="#__codelineno-10-292"></a># å‘½ä»¤çš„è¡Œä¸ºå®Œå…¨åƒUNLINKã€‚
<a id="__codelineno-10-293" name="__codelineno-10-293" href="#__codelineno-10-293"></a>lazyfree-lazy-user-del no
<a id="__codelineno-10-294" name="__codelineno-10-294" href="#__codelineno-10-294"></a>
<a id="__codelineno-10-295" name="__codelineno-10-295" href="#__codelineno-10-295"></a>lazyfree-lazy-user-flush no
<a id="__codelineno-10-296" name="__codelineno-10-296" href="#__codelineno-10-296"></a>
<a id="__codelineno-10-297" name="__codelineno-10-297" href="#__codelineno-10-297"></a>################################ THREADED I/O(çº¿ç¨‹ IO) #################################
<a id="__codelineno-10-298" name="__codelineno-10-298" href="#__codelineno-10-298"></a>
<a id="__codelineno-10-299" name="__codelineno-10-299" href="#__codelineno-10-299"></a>
<a id="__codelineno-10-300" name="__codelineno-10-300" href="#__codelineno-10-300"></a># io-threads 4
<a id="__codelineno-10-301" name="__codelineno-10-301" href="#__codelineno-10-301"></a>#
<a id="__codelineno-10-302" name="__codelineno-10-302" href="#__codelineno-10-302"></a># 
<a id="__codelineno-10-303" name="__codelineno-10-303" href="#__codelineno-10-303"></a># io-threads-do-reads no
<a id="__codelineno-10-304" name="__codelineno-10-304" href="#__codelineno-10-304"></a>
<a id="__codelineno-10-305" name="__codelineno-10-305" href="#__codelineno-10-305"></a>
<a id="__codelineno-10-306" name="__codelineno-10-306" href="#__codelineno-10-306"></a>############################ KERNEL OOM CONTROL ##############################
<a id="__codelineno-10-307" name="__codelineno-10-307" href="#__codelineno-10-307"></a>
<a id="__codelineno-10-308" name="__codelineno-10-308" href="#__codelineno-10-308"></a># On Linux, it is possible to hint the kernel OOM killer on what processes
<a id="__codelineno-10-309" name="__codelineno-10-309" href="#__codelineno-10-309"></a># should be killed first when out of memory.
<a id="__codelineno-10-310" name="__codelineno-10-310" href="#__codelineno-10-310"></a>#
<a id="__codelineno-10-311" name="__codelineno-10-311" href="#__codelineno-10-311"></a># Enabling this feature makes Redis actively control the oom_score_adj value
<a id="__codelineno-10-312" name="__codelineno-10-312" href="#__codelineno-10-312"></a># for all its processes, depending on their role. The default scores will
<a id="__codelineno-10-313" name="__codelineno-10-313" href="#__codelineno-10-313"></a># attempt to have background child processes killed before all others, and
<a id="__codelineno-10-314" name="__codelineno-10-314" href="#__codelineno-10-314"></a># replicas killed before masters.
<a id="__codelineno-10-315" name="__codelineno-10-315" href="#__codelineno-10-315"></a>#
<a id="__codelineno-10-316" name="__codelineno-10-316" href="#__codelineno-10-316"></a># Redis supports three options:
<a id="__codelineno-10-317" name="__codelineno-10-317" href="#__codelineno-10-317"></a>#
<a id="__codelineno-10-318" name="__codelineno-10-318" href="#__codelineno-10-318"></a># no:       Don&#39;t make changes to oom-score-adj (default).
<a id="__codelineno-10-319" name="__codelineno-10-319" href="#__codelineno-10-319"></a># yes:      Alias to &quot;relative&quot; see below.
<a id="__codelineno-10-320" name="__codelineno-10-320" href="#__codelineno-10-320"></a># absolute: Values in oom-score-adj-values are written as is to the kernel.
<a id="__codelineno-10-321" name="__codelineno-10-321" href="#__codelineno-10-321"></a># relative: Values are used relative to the initial value of oom_score_adj when
<a id="__codelineno-10-322" name="__codelineno-10-322" href="#__codelineno-10-322"></a>#           the server starts and are then clamped to a range of -1000 to 1000.
<a id="__codelineno-10-323" name="__codelineno-10-323" href="#__codelineno-10-323"></a>#           Because typically the initial value is 0, they will often match the
<a id="__codelineno-10-324" name="__codelineno-10-324" href="#__codelineno-10-324"></a>#           absolute values.
<a id="__codelineno-10-325" name="__codelineno-10-325" href="#__codelineno-10-325"></a>oom-score-adj no
<a id="__codelineno-10-326" name="__codelineno-10-326" href="#__codelineno-10-326"></a>
<a id="__codelineno-10-327" name="__codelineno-10-327" href="#__codelineno-10-327"></a># When oom-score-adj is used, this directive controls the specific values used
<a id="__codelineno-10-328" name="__codelineno-10-328" href="#__codelineno-10-328"></a># for master, replica and background child processes. Values range -2000 to
<a id="__codelineno-10-329" name="__codelineno-10-329" href="#__codelineno-10-329"></a># 2000 (higher means more likely to be killed).
<a id="__codelineno-10-330" name="__codelineno-10-330" href="#__codelineno-10-330"></a>#
<a id="__codelineno-10-331" name="__codelineno-10-331" href="#__codelineno-10-331"></a># Unprivileged processes (not root, and without CAP_SYS_RESOURCE capabilities)
<a id="__codelineno-10-332" name="__codelineno-10-332" href="#__codelineno-10-332"></a># can freely increase their value, but not decrease it below its initial
<a id="__codelineno-10-333" name="__codelineno-10-333" href="#__codelineno-10-333"></a># settings. This means that setting oom-score-adj to &quot;relative&quot; and setting the
<a id="__codelineno-10-334" name="__codelineno-10-334" href="#__codelineno-10-334"></a># oom-score-adj-values to positive values will always succeed.
<a id="__codelineno-10-335" name="__codelineno-10-335" href="#__codelineno-10-335"></a>oom-score-adj-values 0 200 800
<a id="__codelineno-10-336" name="__codelineno-10-336" href="#__codelineno-10-336"></a>
<a id="__codelineno-10-337" name="__codelineno-10-337" href="#__codelineno-10-337"></a>
<a id="__codelineno-10-338" name="__codelineno-10-338" href="#__codelineno-10-338"></a>#################### KERNEL transparent hugepage CONTROL ######################
<a id="__codelineno-10-339" name="__codelineno-10-339" href="#__codelineno-10-339"></a>
<a id="__codelineno-10-340" name="__codelineno-10-340" href="#__codelineno-10-340"></a># Usually the kernel Transparent Huge Pages control is set to &quot;madvise&quot; or
<a id="__codelineno-10-341" name="__codelineno-10-341" href="#__codelineno-10-341"></a># or &quot;never&quot; by default (/sys/kernel/mm/transparent_hugepage/enabled), in which
<a id="__codelineno-10-342" name="__codelineno-10-342" href="#__codelineno-10-342"></a># case this config has no effect. On systems in which it is set to &quot;always&quot;,
<a id="__codelineno-10-343" name="__codelineno-10-343" href="#__codelineno-10-343"></a># redis will attempt to disable it specifically for the redis process in order
<a id="__codelineno-10-344" name="__codelineno-10-344" href="#__codelineno-10-344"></a># to avoid latency problems specifically with fork(2) and CoW.
<a id="__codelineno-10-345" name="__codelineno-10-345" href="#__codelineno-10-345"></a># If for some reason you prefer to keep it enabled, you can set this config to
<a id="__codelineno-10-346" name="__codelineno-10-346" href="#__codelineno-10-346"></a># &quot;no&quot; and the kernel global to &quot;always&quot;.
<a id="__codelineno-10-347" name="__codelineno-10-347" href="#__codelineno-10-347"></a>
<a id="__codelineno-10-348" name="__codelineno-10-348" href="#__codelineno-10-348"></a>disable-thp yes
<a id="__codelineno-10-349" name="__codelineno-10-349" href="#__codelineno-10-349"></a>
<a id="__codelineno-10-350" name="__codelineno-10-350" href="#__codelineno-10-350"></a>############################## APPEND ONLY MODE ï¼ˆAOFæŒä¹…åŒ–ï¼‰ ###############################
<a id="__codelineno-10-351" name="__codelineno-10-351" href="#__codelineno-10-351"></a>
<a id="__codelineno-10-352" name="__codelineno-10-352" href="#__codelineno-10-352"></a>#æ˜¯å¦å¯ç”¨aofæŒä¹…åŒ–æ–¹å¼
<a id="__codelineno-10-353" name="__codelineno-10-353" href="#__codelineno-10-353"></a>appendonly no
<a id="__codelineno-10-354" name="__codelineno-10-354" href="#__codelineno-10-354"></a>
<a id="__codelineno-10-355" name="__codelineno-10-355" href="#__codelineno-10-355"></a>#aofæŒä¹…åŒ–æ–‡ä»¶å
<a id="__codelineno-10-356" name="__codelineno-10-356" href="#__codelineno-10-356"></a>appendfilename &quot;appendonly.aof&quot;
<a id="__codelineno-10-357" name="__codelineno-10-357" href="#__codelineno-10-357"></a>
<a id="__codelineno-10-358" name="__codelineno-10-358" href="#__codelineno-10-358"></a>#aofæ–‡ä»¶åˆ·æ–°çš„é¢‘ç‡ã€‚æœ‰ä¸‰ç§ï¼š
<a id="__codelineno-10-359" name="__codelineno-10-359" href="#__codelineno-10-359"></a># 1.no ä¾é OSè¿›è¡Œåˆ·æ–°ï¼Œredisä¸ä¸»åŠ¨åˆ·æ–°AOFï¼Œè¿™æ ·æœ€å¿«ï¼Œä½†å®‰å…¨æ€§å°±å·®ã€‚
<a id="__codelineno-10-360" name="__codelineno-10-360" href="#__codelineno-10-360"></a># 2.always æ¯æäº¤ä¸€ä¸ªä¿®æ”¹å‘½ä»¤éƒ½è°ƒç”¨fsyncåˆ·æ–°åˆ°AOFæ–‡ä»¶ï¼Œéå¸¸éå¸¸æ…¢ï¼Œä½†ä¹Ÿéå¸¸å®‰å…¨ã€‚
<a id="__codelineno-10-361" name="__codelineno-10-361" href="#__codelineno-10-361"></a># 3.everysec æ¯ç§’é’Ÿéƒ½è°ƒç”¨fsyncåˆ·æ–°åˆ°AOFæ–‡ä»¶ï¼Œå¾ˆå¿«ï¼Œä½†å¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’ä»¥å†…çš„æ•°æ®ã€‚
<a id="__codelineno-10-362" name="__codelineno-10-362" href="#__codelineno-10-362"></a>
<a id="__codelineno-10-363" name="__codelineno-10-363" href="#__codelineno-10-363"></a># appendfsync always
<a id="__codelineno-10-364" name="__codelineno-10-364" href="#__codelineno-10-364"></a>appendfsync everysec
<a id="__codelineno-10-365" name="__codelineno-10-365" href="#__codelineno-10-365"></a># appendfsync no
<a id="__codelineno-10-366" name="__codelineno-10-366" href="#__codelineno-10-366"></a>
<a id="__codelineno-10-367" name="__codelineno-10-367" href="#__codelineno-10-367"></a># æŒ‡å®šæ˜¯å¦åœ¨åå°aofæ–‡ä»¶rewriteæœŸé—´è°ƒç”¨fsyncï¼Œé»˜è®¤ä¸ºnoï¼Œè¡¨ç¤ºè¦è°ƒç”¨fsync
<a id="__codelineno-10-368" name="__codelineno-10-368" href="#__codelineno-10-368"></a># Redisåœ¨åå°å†™RDBæ–‡ä»¶æˆ–é‡å†™AOFæ–‡ä»¶æœŸé—´ä¼šå­˜åœ¨å¤§é‡ç£ç›˜IOï¼Œæ­¤æ—¶ï¼Œåœ¨æŸäº›linuxç³»ç»Ÿä¸­ï¼Œè°ƒç”¨fsyncå¯èƒ½ä¼šé˜»å¡
<a id="__codelineno-10-369" name="__codelineno-10-369" href="#__codelineno-10-369"></a>no-appendfsync-on-rewrite no
<a id="__codelineno-10-370" name="__codelineno-10-370" href="#__codelineno-10-370"></a>
<a id="__codelineno-10-371" name="__codelineno-10-371" href="#__codelineno-10-371"></a># aofè‡ªåŠ¨é‡å†™é…ç½®ï¼Œaofæ–‡ä»¶å¢é•¿æ¯”ä¾‹åˆ°è¾¾è¯¥é…ç½®åé‡å†™ã€‚
<a id="__codelineno-10-372" name="__codelineno-10-372" href="#__codelineno-10-372"></a># aofé‡å†™å³åœ¨aofæ–‡ä»¶åœ¨ä¸€å®šå¤§å°ä¹‹åï¼Œé‡æ–°å°†æ•´ä¸ªå†…å­˜å†™åˆ°aofæ–‡ä»¶å½“ä¸­ï¼Œä»¥åæ˜ æœ€æ–°çš„çŠ¶æ€(ç›¸å½“äºbgsave)ã€‚
<a id="__codelineno-10-373" name="__codelineno-10-373" href="#__codelineno-10-373"></a># é¿å…äº†aofæ–‡ä»¶è¿‡å¤§è€Œå®é™…å†…å­˜æ•°æ®å°çš„é—®é¢˜(é¢‘ç¹ä¿®æ”¹æ•°æ®é—®é¢˜)
<a id="__codelineno-10-374" name="__codelineno-10-374" href="#__codelineno-10-374"></a>auto-aof-rewrite-percentage 100
<a id="__codelineno-10-375" name="__codelineno-10-375" href="#__codelineno-10-375"></a>#aofæ–‡ä»¶é‡å†™æœ€å°çš„æ–‡ä»¶å¤§å°ï¼Œå³æœ€å¼€å§‹aofæ–‡ä»¶å¿…é¡»è¦è¾¾åˆ°è¿™ä¸ªæ–‡ä»¶æ—¶æ‰è§¦å‘ï¼Œ
<a id="__codelineno-10-376" name="__codelineno-10-376" href="#__codelineno-10-376"></a>#åé¢çš„æ¯æ¬¡é‡å†™å°±ä¸ä¼šæ ¹æ®è¿™ä¸ªå˜é‡äº†(æ ¹æ®ä¸Šä¸€æ¬¡é‡å†™å®Œæˆä¹‹åçš„å¤§å°)
<a id="__codelineno-10-377" name="__codelineno-10-377" href="#__codelineno-10-377"></a>auto-aof-rewrite-min-size 64mb
<a id="__codelineno-10-378" name="__codelineno-10-378" href="#__codelineno-10-378"></a>
<a id="__codelineno-10-379" name="__codelineno-10-379" href="#__codelineno-10-379"></a>#æŒ‡redisåœ¨æ¢å¤æ—¶ï¼Œä¼šå¿½ç•¥æœ€åä¸€æ¡å¯èƒ½å­˜åœ¨é—®é¢˜çš„æŒ‡ä»¤ã€‚é»˜è®¤å€¼yesã€‚
<a id="__codelineno-10-380" name="__codelineno-10-380" href="#__codelineno-10-380"></a>#å³åœ¨aofå†™å…¥æ—¶ï¼Œå¯èƒ½å­˜åœ¨æŒ‡ä»¤å†™é”™çš„é—®é¢˜(çªç„¶æ–­ç”µï¼Œå†™äº†ä¸€åŠ)ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œyesä¼šlogå¹¶ç»§ç»­ï¼Œè€Œnoä¼šç›´æ¥æ¢å¤å¤±è´¥ã€‚
<a id="__codelineno-10-381" name="__codelineno-10-381" href="#__codelineno-10-381"></a>aof-load-truncated yes
<a id="__codelineno-10-382" name="__codelineno-10-382" href="#__codelineno-10-382"></a>
<a id="__codelineno-10-383" name="__codelineno-10-383" href="#__codelineno-10-383"></a>#æ··åˆæŒä¹…åŒ– åœ¨å¼€å¯äº†è¿™ä¸ªåŠŸèƒ½ä¹‹åï¼ŒAOFé‡å†™äº§ç”Ÿçš„æ–‡ä»¶å°†åŒæ—¶åŒ…å«RDBæ ¼å¼çš„å†…å®¹å’ŒAOFæ ¼å¼çš„å†…å®¹
<a id="__codelineno-10-384" name="__codelineno-10-384" href="#__codelineno-10-384"></a>aof-use-rdb-preamble yes
<a id="__codelineno-10-385" name="__codelineno-10-385" href="#__codelineno-10-385"></a>
<a id="__codelineno-10-386" name="__codelineno-10-386" href="#__codelineno-10-386"></a>################################ LUA SCRIPTING(LUA è„šæœ¬) ###############################
<a id="__codelineno-10-387" name="__codelineno-10-387" href="#__codelineno-10-387"></a>
<a id="__codelineno-10-388" name="__codelineno-10-388" href="#__codelineno-10-388"></a>#ä¸€ä¸ªLuaè„šæœ¬æœ€é•¿çš„æ‰§è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’
<a id="__codelineno-10-389" name="__codelineno-10-389" href="#__codelineno-10-389"></a>lua-time-limit 5000
<a id="__codelineno-10-390" name="__codelineno-10-390" href="#__codelineno-10-390"></a>
<a id="__codelineno-10-391" name="__codelineno-10-391" href="#__codelineno-10-391"></a>################################ REDIS CLUSTER (é›†ç¾¤) ###############################
<a id="__codelineno-10-392" name="__codelineno-10-392" href="#__codelineno-10-392"></a>
<a id="__codelineno-10-393" name="__codelineno-10-393" href="#__codelineno-10-393"></a>
<a id="__codelineno-10-394" name="__codelineno-10-394" href="#__codelineno-10-394"></a># å¦‚æœæ˜¯yesï¼Œè¡¨ç¤ºå¯ç”¨é›†ç¾¤ï¼Œå¦åˆ™ä»¥å•ä¾‹æ¨¡å¼å¯åŠ¨
<a id="__codelineno-10-395" name="__codelineno-10-395" href="#__codelineno-10-395"></a># cluster-enabled yes
<a id="__codelineno-10-396" name="__codelineno-10-396" href="#__codelineno-10-396"></a>
<a id="__codelineno-10-397" name="__codelineno-10-397" href="#__codelineno-10-397"></a># é›†ç¾¤é…ç½®æ–‡ä»¶ Redisé›†ç¾¤èŠ‚ç‚¹è‡ªåŠ¨æŒä¹…åŒ–æ¯æ¬¡é…ç½®çš„æ”¹å˜ï¼Œä¸ºäº†åœ¨å¯åŠ¨çš„æ—¶å€™é‡æ–°è¯»å–å®ƒ
<a id="__codelineno-10-398" name="__codelineno-10-398" href="#__codelineno-10-398"></a># cluster-config-file nodes-6379.conf
<a id="__codelineno-10-399" name="__codelineno-10-399" href="#__codelineno-10-399"></a>
<a id="__codelineno-10-400" name="__codelineno-10-400" href="#__codelineno-10-400"></a># é›†ç¾¤èŠ‚ç‚¹ä¸å¯ç”¨çš„æœ€å¤§æ—¶é—´ã€‚å¦‚æœä¸€ä¸ªmasterèŠ‚ç‚¹ä¸å¯åˆ°è¾¾è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œåˆ™è®¤ä¸ºå®ƒå¤±è´¥äº†
<a id="__codelineno-10-401" name="__codelineno-10-401" href="#__codelineno-10-401"></a># cluster-node-timeout 15000
<a id="__codelineno-10-402" name="__codelineno-10-402" href="#__codelineno-10-402"></a>
<a id="__codelineno-10-403" name="__codelineno-10-403" href="#__codelineno-10-403"></a># åœ¨è¿›è¡Œæ•…éšœè½¬ç§»çš„æ—¶å€™ï¼Œå…¨éƒ¨slaveéƒ½ä¼šè¯·æ±‚ç”³è¯·ä¸ºmasterï¼Œ
<a id="__codelineno-10-404" name="__codelineno-10-404" href="#__codelineno-10-404"></a># ä½†æ˜¯æœ‰äº›slaveå¯èƒ½ä¸masteræ–­å¼€è¿æ¥ä¸€æ®µæ—¶é—´äº†ï¼Œå¯¼è‡´æ•°æ®è¿‡äºé™ˆæ—§ï¼Œè¿™æ ·çš„slaveä¸åº”è¯¥è¢«æå‡ä¸ºmasterã€‚
<a id="__codelineno-10-405" name="__codelineno-10-405" href="#__codelineno-10-405"></a># è¯¥å‚æ•°å°±æ˜¯ç”¨æ¥åˆ¤æ–­slaveèŠ‚ç‚¹ä¸masteræ–­çº¿çš„æ—¶é—´æ˜¯å¦è¿‡é•¿ã€‚
<a id="__codelineno-10-406" name="__codelineno-10-406" href="#__codelineno-10-406"></a>#åˆ¤æ–­æ–¹æ³•æ˜¯ï¼š
<a id="__codelineno-10-407" name="__codelineno-10-407" href="#__codelineno-10-407"></a>#æ¯”è¾ƒslaveæ–­å¼€è¿æ¥çš„æ—¶é—´å’Œ(node-timeout * slave-validity-factor) + repl-ping-slave-period
<a id="__codelineno-10-408" name="__codelineno-10-408" href="#__codelineno-10-408"></a>#å¦‚æœèŠ‚ç‚¹è¶…æ—¶æ—¶é—´ä¸ºä¸‰åç§’, å¹¶ä¸”slave-validity-factorä¸º10,å‡è®¾é»˜è®¤çš„repl-ping-slave-periodæ˜¯10
<a id="__codelineno-10-409" name="__codelineno-10-409" href="#__codelineno-10-409"></a>ç§’ï¼Œå³å¦‚æœè¶…è¿‡310ç§’slaveå°†ä¸ä¼šå°è¯•è¿›è¡Œæ•…éšœè½¬ç§»
<a id="__codelineno-10-410" name="__codelineno-10-410" href="#__codelineno-10-410"></a># cluster-replica-validity-factor 10
<a id="__codelineno-10-411" name="__codelineno-10-411" href="#__codelineno-10-411"></a>
<a id="__codelineno-10-412" name="__codelineno-10-412" href="#__codelineno-10-412"></a># ä¸€ä¸ªmasterå’Œslaveä¿æŒè¿æ¥çš„æœ€å°æ•°é‡ï¼ˆå³ï¼šæœ€å°‘ä¸å¤šå°‘ä¸ªslaveä¿æŒè¿æ¥ï¼‰ï¼Œ
<a id="__codelineno-10-413" name="__codelineno-10-413" href="#__codelineno-10-413"></a>#ä¹Ÿå°±æ˜¯è¯´è‡³å°‘ä¸å…¶å®ƒå¤šå°‘slaveä¿æŒè¿æ¥çš„slaveæ‰æœ‰èµ„æ ¼æˆä¸ºmaster(æ•…éšœè½¬ç§»)
<a id="__codelineno-10-414" name="__codelineno-10-414" href="#__codelineno-10-414"></a># cluster-migration-barrier 1
<a id="__codelineno-10-415" name="__codelineno-10-415" href="#__codelineno-10-415"></a>
<a id="__codelineno-10-416" name="__codelineno-10-416" href="#__codelineno-10-416"></a>
<a id="__codelineno-10-417" name="__codelineno-10-417" href="#__codelineno-10-417"></a># æ˜¯å¦å…è®¸æ•…éšœè‡ªåŠ¨è¿ç§»
<a id="__codelineno-10-418" name="__codelineno-10-418" href="#__codelineno-10-418"></a># cluster-allow-replica-migration yes
<a id="__codelineno-10-419" name="__codelineno-10-419" href="#__codelineno-10-419"></a>
<a id="__codelineno-10-420" name="__codelineno-10-420" href="#__codelineno-10-420"></a># é›†ç¾¤å…¨éƒ¨çš„slotæœ‰èŠ‚ç‚¹è´Ÿè´£ï¼Œé›†ç¾¤çŠ¶æ€æ‰ä¸ºokï¼Œæ‰èƒ½æä¾›æœåŠ¡ã€‚è®¾ç½®ä¸ºnoï¼Œå¯ä»¥åœ¨slotæ²¡æœ‰å…¨éƒ¨åˆ†é…çš„æ—¶å€™æä¾›æœåŠ¡ã€‚
<a id="__codelineno-10-421" name="__codelineno-10-421" href="#__codelineno-10-421"></a>#ä¸å»ºè®®æ‰“å¼€è¯¥é…ç½®ï¼Œè¿™æ ·ä¼šé€ æˆåˆ†åŒºçš„æ—¶å€™ï¼Œå°åˆ†åŒºçš„masterä¸€ç›´åœ¨æ¥å—å†™è¯·æ±‚ï¼Œè€Œé€ æˆå¾ˆé•¿æ—¶é—´æ•°æ®ä¸ä¸€è‡´
<a id="__codelineno-10-422" name="__codelineno-10-422" href="#__codelineno-10-422"></a># cluster-require-full-coverage yes
<a id="__codelineno-10-423" name="__codelineno-10-423" href="#__codelineno-10-423"></a>
<a id="__codelineno-10-424" name="__codelineno-10-424" href="#__codelineno-10-424"></a># æ­¤é€‰é¡¹è®¾ç½®ä¸ºyesæ—¶ï¼Œå¯é˜²æ­¢ä»è®¾å¤‡å°è¯•å¯¹å…¶è¿›è¡Œæ•…éšœè½¬ç§»masteråœ¨ä¸»æ•…éšœæœŸé—´ã€‚ä»ç„¶å¯ä»¥å¼ºåˆ¶æ‰§è¡Œæ‰‹åŠ¨æ•…éšœè½¬ç§»
<a id="__codelineno-10-425" name="__codelineno-10-425" href="#__codelineno-10-425"></a># cluster-replica-no-failover no
<a id="__codelineno-10-426" name="__codelineno-10-426" href="#__codelineno-10-426"></a>
<a id="__codelineno-10-427" name="__codelineno-10-427" href="#__codelineno-10-427"></a># This option, when set to yes, allows nodes to serve read traffic while the
<a id="__codelineno-10-428" name="__codelineno-10-428" href="#__codelineno-10-428"></a># the cluster is in a down state, as long as it believes it owns the slots. 
<a id="__codelineno-10-429" name="__codelineno-10-429" href="#__codelineno-10-429"></a>#
<a id="__codelineno-10-430" name="__codelineno-10-430" href="#__codelineno-10-430"></a># This is useful for two cases.  The first case is for when an application 
<a id="__codelineno-10-431" name="__codelineno-10-431" href="#__codelineno-10-431"></a># doesn&#39;t require consistency of data during node failures or network partitions.
<a id="__codelineno-10-432" name="__codelineno-10-432" href="#__codelineno-10-432"></a># One example of this is a cache, where as long as the node has the data it
<a id="__codelineno-10-433" name="__codelineno-10-433" href="#__codelineno-10-433"></a># should be able to serve it. 
<a id="__codelineno-10-434" name="__codelineno-10-434" href="#__codelineno-10-434"></a>#
<a id="__codelineno-10-435" name="__codelineno-10-435" href="#__codelineno-10-435"></a># æ˜¯å¦å…è®¸é›†ç¾¤åœ¨å®•æœºæ—¶è¯»å–
<a id="__codelineno-10-436" name="__codelineno-10-436" href="#__codelineno-10-436"></a># cluster-allow-reads-when-down no
<a id="__codelineno-10-437" name="__codelineno-10-437" href="#__codelineno-10-437"></a>
<a id="__codelineno-10-438" name="__codelineno-10-438" href="#__codelineno-10-438"></a>########################## CLUSTER DOCKER/NAT support(dockeré›†ç¾¤/NATæ”¯æŒ)  ########################
<a id="__codelineno-10-439" name="__codelineno-10-439" href="#__codelineno-10-439"></a>
<a id="__codelineno-10-440" name="__codelineno-10-440" href="#__codelineno-10-440"></a>
<a id="__codelineno-10-441" name="__codelineno-10-441" href="#__codelineno-10-441"></a># å®£å¸ƒIPåœ°å€
<a id="__codelineno-10-442" name="__codelineno-10-442" href="#__codelineno-10-442"></a># cluster-announce-ip 10.1.1.5
<a id="__codelineno-10-443" name="__codelineno-10-443" href="#__codelineno-10-443"></a># å®£å¸ƒæœåŠ¡ç«¯å£ tlsç«¯å£
<a id="__codelineno-10-444" name="__codelineno-10-444" href="#__codelineno-10-444"></a># cluster-announce-tls-port 6379
<a id="__codelineno-10-445" name="__codelineno-10-445" href="#__codelineno-10-445"></a># cluster-announce-port 0
<a id="__codelineno-10-446" name="__codelineno-10-446" href="#__codelineno-10-446"></a># å®£å¸ƒé›†ç¾¤æ€»çº¿ç«¯å£
<a id="__codelineno-10-447" name="__codelineno-10-447" href="#__codelineno-10-447"></a># cluster-announce-bus-port 6380
<a id="__codelineno-10-448" name="__codelineno-10-448" href="#__codelineno-10-448"></a>
<a id="__codelineno-10-449" name="__codelineno-10-449" href="#__codelineno-10-449"></a>################################## SLOW LOG(æ…¢æŸ¥è¯¢æ—¥å¿—) ###################################
<a id="__codelineno-10-450" name="__codelineno-10-450" href="#__codelineno-10-450"></a>
<a id="__codelineno-10-451" name="__codelineno-10-451" href="#__codelineno-10-451"></a># è¶…è¿‡è¯¥æŸ¥è¯¢é…ç½®äº‹ä»¶çš„æ“ä½œè®°å½•ä¸ºæ…¢æŸ¥è¯¢
<a id="__codelineno-10-452" name="__codelineno-10-452" href="#__codelineno-10-452"></a>slowlog-log-slower-than 10000
<a id="__codelineno-10-453" name="__codelineno-10-453" href="#__codelineno-10-453"></a>
<a id="__codelineno-10-454" name="__codelineno-10-454" href="#__codelineno-10-454"></a># å†³å®š slow log æœ€å¤šèƒ½ä¿å­˜å¤šå°‘æ¡æ—¥å¿—ï¼Œ slow log æœ¬èº«æ˜¯ä¸€ä¸ª FIFO é˜Ÿåˆ—ï¼ˆæ·˜æ±°ç­–ç•¥ä¹Ÿæ˜¯FIFOï¼‰
<a id="__codelineno-10-455" name="__codelineno-10-455" href="#__codelineno-10-455"></a>slowlog-max-len 128
<a id="__codelineno-10-456" name="__codelineno-10-456" href="#__codelineno-10-456"></a>
<a id="__codelineno-10-457" name="__codelineno-10-457" href="#__codelineno-10-457"></a>################################ LATENCY MONITOR(å»¶æ—¶ç›‘æ§) ##############################
<a id="__codelineno-10-458" name="__codelineno-10-458" href="#__codelineno-10-458"></a>
<a id="__codelineno-10-459" name="__codelineno-10-459" href="#__codelineno-10-459"></a># èƒ½å¤Ÿé‡‡æ ·ä¸åŒçš„æ‰§è¡Œè·¯å¾„æ¥çŸ¥é“redisé˜»å¡åœ¨å“ªé‡Œã€‚è¿™ä½¿å¾—è°ƒè¯•å„ç§å»¶æ—¶é—®é¢˜å˜å¾—ç®€å•ï¼Œè®¾ç½®ä¸€ä¸ªæ¯«ç§’å•ä½çš„å»¶æ—¶é˜ˆå€¼æ¥å¼€å¯å»¶æ—¶ç›‘æ§ã€‚  
<a id="__codelineno-10-460" name="__codelineno-10-460" href="#__codelineno-10-460"></a>latency-monitor-threshold 0
<a id="__codelineno-10-461" name="__codelineno-10-461" href="#__codelineno-10-461"></a>
<a id="__codelineno-10-462" name="__codelineno-10-462" href="#__codelineno-10-462"></a>############################# EVENT NOTIFICATION(äº‹ä»¶é€šçŸ¥) ##############################
<a id="__codelineno-10-463" name="__codelineno-10-463" href="#__codelineno-10-463"></a>
<a id="__codelineno-10-464" name="__codelineno-10-464" href="#__codelineno-10-464"></a># é”®äº‹ä»¶é€šçŸ¥ï¼Œå¯ç”¨å‚æ•°ï¼š
<a id="__codelineno-10-465" name="__codelineno-10-465" href="#__codelineno-10-465"></a># K é”®ç©ºé—´é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ keyspace@ ä¸ºå‰ç¼€.
<a id="__codelineno-10-466" name="__codelineno-10-466" href="#__codelineno-10-466"></a># E é”®äº‹ä»¶é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ keyevent@ ä¸ºå‰ç¼€
<a id="__codelineno-10-467" name="__codelineno-10-467" href="#__codelineno-10-467"></a># g DEL ã€ EXPIRE ã€ RENAME ç­‰ç±»å‹æ— å…³çš„é€šç”¨å‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-468" name="__codelineno-10-468" href="#__codelineno-10-468"></a># $ å­—ç¬¦ä¸²å‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-469" name="__codelineno-10-469" href="#__codelineno-10-469"></a># l åˆ—è¡¨å‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-470" name="__codelineno-10-470" href="#__codelineno-10-470"></a># s é›†åˆå‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-471" name="__codelineno-10-471" href="#__codelineno-10-471"></a># h å“ˆå¸Œå‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-472" name="__codelineno-10-472" href="#__codelineno-10-472"></a># z æœ‰åºé›†åˆå‘½ä»¤çš„é€šçŸ¥
<a id="__codelineno-10-473" name="__codelineno-10-473" href="#__codelineno-10-473"></a># x è¿‡æœŸäº‹ä»¶ï¼šæ¯å½“æœ‰è¿‡æœŸé”®è¢«åˆ é™¤æ—¶å‘é€
<a id="__codelineno-10-474" name="__codelineno-10-474" href="#__codelineno-10-474"></a># e é©±é€(evict)äº‹ä»¶ï¼šæ¯å½“æœ‰é”®å› ä¸º maxmemory ç­–ç•¥è€Œè¢«åˆ é™¤æ—¶å‘é€
<a id="__codelineno-10-475" name="__codelineno-10-475" href="#__codelineno-10-475"></a># A å‚æ•° g$lshzxe çš„åˆ«å
<a id="__codelineno-10-476" name="__codelineno-10-476" href="#__codelineno-10-476"></a># ä¹¦å†™ï¼šnotify-keyspace-events Ex
<a id="__codelineno-10-477" name="__codelineno-10-477" href="#__codelineno-10-477"></a># é»˜è®¤é…ç½®é¡¹ï¼šnotify-keyspace-events &quot; &quot;
<a id="__codelineno-10-478" name="__codelineno-10-478" href="#__codelineno-10-478"></a>
<a id="__codelineno-10-479" name="__codelineno-10-479" href="#__codelineno-10-479"></a>#  notify-keyspace-events Ex
<a id="__codelineno-10-480" name="__codelineno-10-480" href="#__codelineno-10-480"></a>#
<a id="__codelineno-10-481" name="__codelineno-10-481" href="#__codelineno-10-481"></a>
<a id="__codelineno-10-482" name="__codelineno-10-482" href="#__codelineno-10-482"></a>
<a id="__codelineno-10-483" name="__codelineno-10-483" href="#__codelineno-10-483"></a>############################### GOPHER SERVER(GOPHERåè®®æœåŠ¡) #################################
<a id="__codelineno-10-484" name="__codelineno-10-484" href="#__codelineno-10-484"></a>
<a id="__codelineno-10-485" name="__codelineno-10-485" href="#__codelineno-10-485"></a># å¼€å¯gopheråŠŸèƒ½ Intemetä¸Šå¹¿æ³›ä½¿ç”¨çš„èœå•å¼ä¿¡æ¯æµè§ˆå·¥å…·
<a id="__codelineno-10-486" name="__codelineno-10-486" href="#__codelineno-10-486"></a># gopher-enabled no
<a id="__codelineno-10-487" name="__codelineno-10-487" href="#__codelineno-10-487"></a>
<a id="__codelineno-10-488" name="__codelineno-10-488" href="#__codelineno-10-488"></a>############################### ADVANCED CONFIGï¼ˆé«˜çº§é…ç½®ï¼‰ ###############################
<a id="__codelineno-10-489" name="__codelineno-10-489" href="#__codelineno-10-489"></a>
<a id="__codelineno-10-490" name="__codelineno-10-490" href="#__codelineno-10-490"></a># è¿™ä¸ªå‚æ•°æŒ‡çš„æ˜¯ziplistä¸­å…è®¸å­˜å‚¨çš„æœ€å¤§æ¡ç›®ä¸ªæ•°ï¼Œé»˜è®¤ä¸º512ï¼Œå»ºè®®ä¸º128ã€‚
<a id="__codelineno-10-491" name="__codelineno-10-491" href="#__codelineno-10-491"></a>hash-max-ziplist-entries 512
<a id="__codelineno-10-492" name="__codelineno-10-492" href="#__codelineno-10-492"></a># ziplistä¸­å…è®¸æ¡ç›®valueå€¼æœ€å¤§å­—èŠ‚æ•°ï¼Œé»˜è®¤ä¸º64ï¼Œå»ºè®®ä¸º1024ã€‚
<a id="__codelineno-10-493" name="__codelineno-10-493" href="#__codelineno-10-493"></a>hash-max-ziplist-value 64
<a id="__codelineno-10-494" name="__codelineno-10-494" href="#__codelineno-10-494"></a>
<a id="__codelineno-10-495" name="__codelineno-10-495" href="#__codelineno-10-495"></a># zipliståˆ—è¡¨æœ€å¤§å€¼ï¼Œé»˜è®¤å­˜åœ¨äº”é¡¹ï¼š
<a id="__codelineno-10-496" name="__codelineno-10-496" href="#__codelineno-10-496"></a>#   -5:æœ€å¤§å¤§å°:64 Kb &lt;â€”â€”ä¸å»ºè®®ç”¨äºæ­£å¸¸å·¥ä½œè´Ÿè½½
<a id="__codelineno-10-497" name="__codelineno-10-497" href="#__codelineno-10-497"></a>#   -4:æœ€å¤§å¤§å°:32 Kb &lt;â€”â€”ä¸æ¨è
<a id="__codelineno-10-498" name="__codelineno-10-498" href="#__codelineno-10-498"></a>#   -3:æœ€å¤§å¤§å°:16 Kb &lt;â€”â€”å¯èƒ½ä¸æ¨è
<a id="__codelineno-10-499" name="__codelineno-10-499" href="#__codelineno-10-499"></a>#   -2:æœ€å¤§å¤§å°:8 Kb&lt;â€”â€”å¾ˆå¥½
<a id="__codelineno-10-500" name="__codelineno-10-500" href="#__codelineno-10-500"></a>#   -1:æœ€å¤§å¤§å°:4 Kb &lt;â€”â€”å¥½
<a id="__codelineno-10-501" name="__codelineno-10-501" href="#__codelineno-10-501"></a>list-max-ziplist-size -2
<a id="__codelineno-10-502" name="__codelineno-10-502" href="#__codelineno-10-502"></a>
<a id="__codelineno-10-503" name="__codelineno-10-503" href="#__codelineno-10-503"></a>#  ä¸€ä¸ªquicklistä¸¤ç«¯ä¸è¢«å‹ç¼©çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚
<a id="__codelineno-10-504" name="__codelineno-10-504" href="#__codelineno-10-504"></a># 0: è¡¨ç¤ºéƒ½ä¸å‹ç¼©ã€‚è¿™æ˜¯Redisçš„é»˜è®¤å€¼ã€‚
<a id="__codelineno-10-505" name="__codelineno-10-505" href="#__codelineno-10-505"></a># 1: è¡¨ç¤ºquicklistä¸¤ç«¯å„æœ‰1ä¸ªèŠ‚ç‚¹ä¸å‹ç¼©ï¼Œä¸­é—´çš„èŠ‚ç‚¹å‹ç¼©ã€‚
<a id="__codelineno-10-506" name="__codelineno-10-506" href="#__codelineno-10-506"></a># 3: è¡¨ç¤ºquicklistä¸¤ç«¯å„æœ‰3ä¸ªèŠ‚ç‚¹ä¸å‹ç¼©ï¼Œä¸­é—´çš„èŠ‚ç‚¹å‹ç¼©ã€‚
<a id="__codelineno-10-507" name="__codelineno-10-507" href="#__codelineno-10-507"></a>list-compress-depth 0
<a id="__codelineno-10-508" name="__codelineno-10-508" href="#__codelineno-10-508"></a>
<a id="__codelineno-10-509" name="__codelineno-10-509" href="#__codelineno-10-509"></a># å½“é›†åˆä¸­çš„å…ƒç´ å…¨æ˜¯æ•´æ•°,ä¸”é•¿åº¦ä¸è¶…è¿‡set-max-intset-entries(é»˜è®¤ä¸º512ä¸ª)æ—¶,redisä¼šé€‰ç”¨intsetä½œä¸ºå†…éƒ¨ç¼–ç ï¼Œå¤§äº512ç”¨set
<a id="__codelineno-10-510" name="__codelineno-10-510" href="#__codelineno-10-510"></a>set-max-intset-entries 512
<a id="__codelineno-10-511" name="__codelineno-10-511" href="#__codelineno-10-511"></a>
<a id="__codelineno-10-512" name="__codelineno-10-512" href="#__codelineno-10-512"></a># å½“æœ‰åºé›†åˆçš„å…ƒç´ å°äºzset-max-ziplist-entriesé…ç½®(é»˜è®¤æ˜¯128ä¸ª)
<a id="__codelineno-10-513" name="__codelineno-10-513" href="#__codelineno-10-513"></a># åŒæ—¶æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å°äºzset-max-ziplist-value(é»˜è®¤æ˜¯64å­—èŠ‚)æ—¶
<a id="__codelineno-10-514" name="__codelineno-10-514" href="#__codelineno-10-514"></a># Redisä¼šç”¨ziplistæ¥ä½œä¸ºæœ‰åºé›†åˆçš„å†…éƒ¨ç¼–ç å®ç°,ziplistå¯ä»¥æœ‰æ•ˆçš„å‡å°‘å†…å­˜çš„ä½¿ç”¨ã€‚
<a id="__codelineno-10-515" name="__codelineno-10-515" href="#__codelineno-10-515"></a>zset-max-ziplist-entries 128
<a id="__codelineno-10-516" name="__codelineno-10-516" href="#__codelineno-10-516"></a>zset-max-ziplist-value 64
<a id="__codelineno-10-517" name="__codelineno-10-517" href="#__codelineno-10-517"></a>
<a id="__codelineno-10-518" name="__codelineno-10-518" href="#__codelineno-10-518"></a># valueå¤§å° å°äºç­‰äºhll-sparse-max-bytesä½¿ç”¨ç¨€ç–æ•°æ®ç»“æ„ï¼ˆsparseï¼‰ï¼Œå¤§äºhll-sparse-max-bytesä½¿ç”¨ç¨ å¯†çš„æ•°æ®ç»“æ„
<a id="__codelineno-10-519" name="__codelineno-10-519" href="#__codelineno-10-519"></a>hll-sparse-max-bytes 3000
<a id="__codelineno-10-520" name="__codelineno-10-520" href="#__codelineno-10-520"></a>
<a id="__codelineno-10-521" name="__codelineno-10-521" href="#__codelineno-10-521"></a># Streamså•ä¸ªèŠ‚ç‚¹çš„å­—èŠ‚æ•°ï¼Œä»¥åŠåˆ‡æ¢åˆ°æ–°èŠ‚ç‚¹ä¹‹å‰å¯èƒ½åŒ…å«çš„æœ€å¤§é¡¹ç›®æ•°ã€‚
<a id="__codelineno-10-522" name="__codelineno-10-522" href="#__codelineno-10-522"></a>stream-node-max-bytes 4096
<a id="__codelineno-10-523" name="__codelineno-10-523" href="#__codelineno-10-523"></a>stream-node-max-entries 100
<a id="__codelineno-10-524" name="__codelineno-10-524" href="#__codelineno-10-524"></a>
<a id="__codelineno-10-525" name="__codelineno-10-525" href="#__codelineno-10-525"></a># ä¸»åŠ¨é‡æ–°æ•£åˆ—æ¯100æ¯«ç§’CPUæ—¶é—´ä½¿ç”¨1æ¯«ç§’ï¼Œä»¥å¸®åŠ©é‡æ–°æ•£åˆ—ä¸»Redisæ•£åˆ—è¡¨ï¼ˆå°†é¡¶çº§é”®æ˜ å°„åˆ°å€¼ï¼‰
<a id="__codelineno-10-526" name="__codelineno-10-526" href="#__codelineno-10-526"></a>activerehashing yes
<a id="__codelineno-10-527" name="__codelineno-10-527" href="#__codelineno-10-527"></a>
<a id="__codelineno-10-528" name="__codelineno-10-528" href="#__codelineno-10-528"></a># å¯¹å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²è¿›è¡Œé™åˆ¶å¯ä»¥å¼ºè¿«é‚£äº›ä¸ä»æœåŠ¡å™¨è¯»å–æ•°æ®çš„å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œç”¨æ¥å¼ºåˆ¶å…³é—­ä¼ è¾“ç¼“æ…¢çš„å®¢æˆ·ç«¯
<a id="__codelineno-10-529" name="__codelineno-10-529" href="#__codelineno-10-529"></a>client-output-buffer-limit normal 0 0 0
<a id="__codelineno-10-530" name="__codelineno-10-530" href="#__codelineno-10-530"></a># å¯¹äºslave clientå’ŒMONITER clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡256mbï¼Œåˆæˆ–è€…è¶…è¿‡64mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚
<a id="__codelineno-10-531" name="__codelineno-10-531" href="#__codelineno-10-531"></a>client-output-buffer-limit replica 256mb 64mb 60
<a id="__codelineno-10-532" name="__codelineno-10-532" href="#__codelineno-10-532"></a># å¯¹äºpubsub clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡32mbï¼Œåˆæˆ–è€…è¶…è¿‡8mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚
<a id="__codelineno-10-533" name="__codelineno-10-533" href="#__codelineno-10-533"></a>client-output-buffer-limit pubsub 32mb 8mb 60
<a id="__codelineno-10-534" name="__codelineno-10-534" href="#__codelineno-10-534"></a>
<a id="__codelineno-10-535" name="__codelineno-10-535" href="#__codelineno-10-535"></a># å®¢æˆ·ç«¯æŸ¥è¯¢ç¼“å†²åŒºç´¯ç§¯æ–°å‘½ä»¤ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè¢«é™åˆ¶ä¸ºå›ºå®šæ•°é‡ï¼Œä»¥é¿å…åè®®å¤±æ­¥ï¼ˆä¾‹å¦‚ç”±äºå®¢æˆ·ç«¯ä¸­çš„é”™è¯¯ï¼‰å°†å¯¼è‡´æŸ¥è¯¢ç¼“å†²åŒºä¸­çš„æœªç»‘å®šå†…å­˜ä½¿ç”¨ã€‚
<a id="__codelineno-10-536" name="__codelineno-10-536" href="#__codelineno-10-536"></a># ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æœ‰éå¸¸ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå¯ä»¥åœ¨æ­¤é…ç½®å®ƒï¼Œä¾‹å¦‚æˆ‘ä»¬å·¨å¤§æ‰§è¡Œè¯·æ±‚ã€‚
<a id="__codelineno-10-537" name="__codelineno-10-537" href="#__codelineno-10-537"></a># client-query-buffer-limit 1gb
<a id="__codelineno-10-538" name="__codelineno-10-538" href="#__codelineno-10-538"></a>
<a id="__codelineno-10-539" name="__codelineno-10-539" href="#__codelineno-10-539"></a># åœ¨Redisåè®®ä¸­ï¼Œæ‰¹é‡è¯·æ±‚ï¼ˆå³è¡¨ç¤ºå•ä¸ªå­—ç¬¦ä¸²çš„å…ƒç´ ï¼‰é€šå¸¸é™åˆ¶ä¸º512 MBã€‚ ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤æ›´æ”¹æ­¤é™åˆ¶
<a id="__codelineno-10-540" name="__codelineno-10-540" href="#__codelineno-10-540"></a># proto-max-bulk-len 512mb
<a id="__codelineno-10-541" name="__codelineno-10-541" href="#__codelineno-10-541"></a>
<a id="__codelineno-10-542" name="__codelineno-10-542" href="#__codelineno-10-542"></a># é»˜è®¤æƒ…å†µä¸‹ï¼Œhzè®¾ç½®ä¸º10.æé«˜å€¼æ—¶ï¼Œåœ¨Rediså¤„äºç©ºé—²çŠ¶æ€ä¸‹ï¼Œå°†ä½¿ç”¨æ›´å¤šCPUã€‚èŒƒå›´ä»‹äº1åˆ°500ä¹‹é—´ï¼Œ
<a id="__codelineno-10-543" name="__codelineno-10-543" href="#__codelineno-10-543"></a># å¤§å¤šæ•°ç”¨æˆ·åº”ä½¿ç”¨é»˜è®¤å€¼10ï¼Œé™¤éä»…åœ¨éœ€è¦éå¸¸ä½å»¶è¿Ÿçš„ç¯å¢ƒä¸­å°†æ­¤å€¼æé«˜åˆ°100ã€‚
<a id="__codelineno-10-544" name="__codelineno-10-544" href="#__codelineno-10-544"></a>hz 10
<a id="__codelineno-10-545" name="__codelineno-10-545" href="#__codelineno-10-545"></a>
<a id="__codelineno-10-546" name="__codelineno-10-546" href="#__codelineno-10-546"></a># å¯ç”¨åŠ¨æ€HZæ—¶ï¼Œå®é™…é…ç½®çš„HZå°†ç”¨ä½œåŸºçº¿ï¼Œä½†æ˜¯ä¸€æ—¦è¿æ¥äº†æ›´å¤šå®¢æˆ·ç«¯ï¼Œå°†æ ¹æ®å®é™…éœ€è¦ä½¿ç”¨é…ç½®çš„HZå€¼çš„å€æ•°ã€‚
<a id="__codelineno-10-547" name="__codelineno-10-547" href="#__codelineno-10-547"></a>dynamic-hz yes
<a id="__codelineno-10-548" name="__codelineno-10-548" href="#__codelineno-10-548"></a>
<a id="__codelineno-10-549" name="__codelineno-10-549" href="#__codelineno-10-549"></a># å½“ä¸€ä¸ªå­è¿›ç¨‹é‡å†™AOFæ–‡ä»¶æ—¶ï¼Œå¦‚æœå¯ç”¨ä¸‹é¢çš„é€‰é¡¹ï¼Œåˆ™æ–‡ä»¶æ¯ç”Ÿæˆ32Mæ•°æ®ä¼šè¢«åŒæ­¥
<a id="__codelineno-10-550" name="__codelineno-10-550" href="#__codelineno-10-550"></a>aof-rewrite-incremental-fsync yes
<a id="__codelineno-10-551" name="__codelineno-10-551" href="#__codelineno-10-551"></a>
<a id="__codelineno-10-552" name="__codelineno-10-552" href="#__codelineno-10-552"></a># å½“redisä¿å­˜RDBæ–‡ä»¶æ—¶ï¼Œå¦‚æœå¯ç”¨äº†ä»¥ä¸‹é€‰é¡¹ï¼Œåˆ™æ¯ç”Ÿæˆ32 MBæ•°æ®å°†å¯¹æ–‡ä»¶è¿›è¡Œfsyncã€‚ 
<a id="__codelineno-10-553" name="__codelineno-10-553" href="#__codelineno-10-553"></a># è¿™å¯¹äºä»¥é€’å¢æ–¹å¼å°†æ–‡ä»¶æäº¤åˆ°ç£ç›˜å¹¶é¿å…å¤§å»¶è¿Ÿå³°å€¼éå¸¸æœ‰ç”¨
<a id="__codelineno-10-554" name="__codelineno-10-554" href="#__codelineno-10-554"></a>rdb-save-incremental-fsync yes
<a id="__codelineno-10-555" name="__codelineno-10-555" href="#__codelineno-10-555"></a>
<a id="__codelineno-10-556" name="__codelineno-10-556" href="#__codelineno-10-556"></a>
<a id="__codelineno-10-557" name="__codelineno-10-557" href="#__codelineno-10-557"></a># lfu-log-factor 10
<a id="__codelineno-10-558" name="__codelineno-10-558" href="#__codelineno-10-558"></a># lfu-decay-time 1
<a id="__codelineno-10-559" name="__codelineno-10-559" href="#__codelineno-10-559"></a>
<a id="__codelineno-10-560" name="__codelineno-10-560" href="#__codelineno-10-560"></a>########################### ACTIVE DEFRAGMENTATIONï¼ˆæ´»è·ƒçš„ç¢ç‰‡æ•´ç†ï¼‰ #######################
<a id="__codelineno-10-561" name="__codelineno-10-561" href="#__codelineno-10-561"></a>
<a id="__codelineno-10-562" name="__codelineno-10-562" href="#__codelineno-10-562"></a>
<a id="__codelineno-10-563" name="__codelineno-10-563" href="#__codelineno-10-563"></a># æ˜¯å¦å¯ç”¨ç¢ç‰‡æ•´ç†
<a id="__codelineno-10-564" name="__codelineno-10-564" href="#__codelineno-10-564"></a># activedefrag no
<a id="__codelineno-10-565" name="__codelineno-10-565" href="#__codelineno-10-565"></a>
<a id="__codelineno-10-566" name="__codelineno-10-566" href="#__codelineno-10-566"></a># å¯åŠ¨æ´»åŠ¨ç¢ç‰‡æ•´ç†çš„æœ€å°ç¢ç‰‡æµªè´¹é‡
<a id="__codelineno-10-567" name="__codelineno-10-567" href="#__codelineno-10-567"></a># active-defrag-ignore-bytes 100mb
<a id="__codelineno-10-568" name="__codelineno-10-568" href="#__codelineno-10-568"></a>
<a id="__codelineno-10-569" name="__codelineno-10-569" href="#__codelineno-10-569"></a># å¯åŠ¨ç¢ç‰‡æ•´ç†çš„æœ€å°ç¢ç‰‡ç™¾åˆ†æ¯”
<a id="__codelineno-10-570" name="__codelineno-10-570" href="#__codelineno-10-570"></a># active-defrag-threshold-lower 10
<a id="__codelineno-10-571" name="__codelineno-10-571" href="#__codelineno-10-571"></a>
<a id="__codelineno-10-572" name="__codelineno-10-572" href="#__codelineno-10-572"></a># ä½¿ç”¨æœ€å¤§æ¶ˆè€—æ—¶çš„æœ€å¤§ç¢ç‰‡ç™¾åˆ†æ¯”
<a id="__codelineno-10-573" name="__codelineno-10-573" href="#__codelineno-10-573"></a># active-defrag-threshold-upper 100
<a id="__codelineno-10-574" name="__codelineno-10-574" href="#__codelineno-10-574"></a>
<a id="__codelineno-10-575" name="__codelineno-10-575" href="#__codelineno-10-575"></a># åœ¨CPUç™¾åˆ†æ¯”ä¸­è¿›è¡Œç¢ç‰‡æ•´ç†çš„æœ€å°æ¶ˆè€—
<a id="__codelineno-10-576" name="__codelineno-10-576" href="#__codelineno-10-576"></a># active-defrag-cycle-min 1
<a id="__codelineno-10-577" name="__codelineno-10-577" href="#__codelineno-10-577"></a>
<a id="__codelineno-10-578" name="__codelineno-10-578" href="#__codelineno-10-578"></a># åœ¨CPUç™¾åˆ†æ¯”è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œè¿›è¡Œç¢ç‰‡æ•´ç†
<a id="__codelineno-10-579" name="__codelineno-10-579" href="#__codelineno-10-579"></a># active-defrag-cycle-max 25
<a id="__codelineno-10-580" name="__codelineno-10-580" href="#__codelineno-10-580"></a>
<a id="__codelineno-10-581" name="__codelineno-10-581" href="#__codelineno-10-581"></a># ä»set / hash / zset / list æ‰«æçš„æœ€å¤§å­—æ®µæ•°
<a id="__codelineno-10-582" name="__codelineno-10-582" href="#__codelineno-10-582"></a># active-defrag-max-scan-fields 1000
<a id="__codelineno-10-583" name="__codelineno-10-583" href="#__codelineno-10-583"></a>
<a id="__codelineno-10-584" name="__codelineno-10-584" href="#__codelineno-10-584"></a># é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨äºæ¸…é™¤çš„Jemallocåå°çº¿ç¨‹æ˜¯å¯ç”¨çš„ã€‚
<a id="__codelineno-10-585" name="__codelineno-10-585" href="#__codelineno-10-585"></a>jemalloc-bg-thread yes
<a id="__codelineno-10-586" name="__codelineno-10-586" href="#__codelineno-10-586"></a>
<a id="__codelineno-10-587" name="__codelineno-10-587" href="#__codelineno-10-587"></a>
<a id="__codelineno-10-588" name="__codelineno-10-588" href="#__codelineno-10-588"></a>
<a id="__codelineno-10-589" name="__codelineno-10-589" href="#__codelineno-10-589"></a># è®¾ç½® redis serverçš„IOçº¿ç¨‹æ•°
<a id="__codelineno-10-590" name="__codelineno-10-590" href="#__codelineno-10-590"></a># server_cpulist 0-7:2
<a id="__codelineno-10-591" name="__codelineno-10-591" href="#__codelineno-10-591"></a>#
<a id="__codelineno-10-592" name="__codelineno-10-592" href="#__codelineno-10-592"></a>
<a id="__codelineno-10-593" name="__codelineno-10-593" href="#__codelineno-10-593"></a># è®¾ç½® é˜»å¡IOçº¿ç¨‹æ•°
<a id="__codelineno-10-594" name="__codelineno-10-594" href="#__codelineno-10-594"></a># bio_cpulist 1,3
<a id="__codelineno-10-595" name="__codelineno-10-595" href="#__codelineno-10-595"></a>#
<a id="__codelineno-10-596" name="__codelineno-10-596" href="#__codelineno-10-596"></a>
<a id="__codelineno-10-597" name="__codelineno-10-597" href="#__codelineno-10-597"></a># aof_rewrite_cpulist 8-11
<a id="__codelineno-10-598" name="__codelineno-10-598" href="#__codelineno-10-598"></a>#
<a id="__codelineno-10-599" name="__codelineno-10-599" href="#__codelineno-10-599"></a>
<a id="__codelineno-10-600" name="__codelineno-10-600" href="#__codelineno-10-600"></a># bgsave_cpulist 1,10-11
<a id="__codelineno-10-601" name="__codelineno-10-601" href="#__codelineno-10-601"></a>
<a id="__codelineno-10-602" name="__codelineno-10-602" href="#__codelineno-10-602"></a># In some cases redis will emit warnings and even refuse to start if it detects
<a id="__codelineno-10-603" name="__codelineno-10-603" href="#__codelineno-10-603"></a># that the system is in bad state, it is possible to suppress these warnings
<a id="__codelineno-10-604" name="__codelineno-10-604" href="#__codelineno-10-604"></a># by setting the following config which takes a space delimited list of warnings
<a id="__codelineno-10-605" name="__codelineno-10-605" href="#__codelineno-10-605"></a># to suppress
<a id="__codelineno-10-606" name="__codelineno-10-606" href="#__codelineno-10-606"></a>#
<a id="__codelineno-10-607" name="__codelineno-10-607" href="#__codelineno-10-607"></a># ignore-warnings ARM64-COW-BUG
</code></pre></div>
<h2 id="å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« <a class="headerlink" href="#å‚è€ƒæ–‡ç« " title="Permanent link">ğŸª</a></h2>
<ul>
<li><a href="https://blog.csdn.net/weixin_45821811/article/details/116211724">æœ€è¯¦ç»†Dockerå®‰è£…Redis ï¼ˆå«æ¯ä¸€æ­¥çš„å›¾è§£ï¼‰å®æˆ˜</a></li>
<li><a href="https://blog.csdn.net/qq_34908167/article/details/127090690">Redis-6.2.* ç‰ˆæœ¬é…ç½®æ–‡ä»¶redis.confè¯¦è§£</a></li>
</ul>

  <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Source file information -->
<hr />
<div class="md-source-file">
  <small>
    <!-- mkdocs-git-revision-date-localized-plugin -->
      
        åˆ›å»ºæ—¥æœŸ:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 19, 2023 23:30:57</span>
      
      
      <br />
      æœ€åæ›´æ–°:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 26, 2023 21:06:02</span>
    <!-- mkdocs-git-revision-date-plugin -->
    
  </small>
</div>
  <!-- cusdisè¯„è®ºä½ç½® -->
<div id="cusdis_thread"
  data-host="https://cusdis.com"
  data-app-id="12830b58-fda6-4135-99ce-e5f771bd3070"
  data-page-id=""
  data-page-url="https://121rh.com/about"
  data-page-title="ä¸»é¡µè¯„è®º"
  ></div>
  <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
  <script>
  window.CUSDIS_LOCALE = {
    "powered_by": "è¯„è®ºç”± Cusdis æä¾›",
    "post_comment": "å‘é€",
    "loading": "åŠ è½½ä¸­",
    "email": "é‚®ç®±åœ°å€ (å¯é€‰)",
    "nickname": "æ˜µç§°",
    "reply_placeholder": "å›å¤å†…å®¹...",
    "reply_btn": "å›å¤",
    "sending": "å‘é€ä¸­...",
    "mod_badge": "ç®¡ç†å‘˜",
    "content_is_required": "å†…å®¹ä¸èƒ½ä¸ºç©º",
    "nickname_is_required": "æ˜µç§°ä¸èƒ½ä¸ºç©º",
    "comment_has_been_sent": "è¯„è®ºå·²å‘é€ï¼Œç®¡ç†å‘˜å®¡æ ¸é€šè¿‡åä¼šå±•ç¤º"
  }
  </script>
<!--live2d çœ‹æ¿å¨˜  -->
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/autoload.js"></script>
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/waifu-tips.js"></script>
<script src="https://cdn.jsdelivr.net/gh/msgrams/live2d-widget@main/waifu-tips.json"></script>


              

            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            å›åˆ°é¡µé¢é¡¶éƒ¨
          </a>
        
      </main>
      

        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022-2023  FYAÂ·å¿ƒæ„¿æ‰€å¾€ <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noopener">é»‘ICPå¤‡17009103å·</a>
    </a>
    </div>
  
  
<center id="siteTime">
  <span id="timeDate">å¤©</span><span id="times"></span>ğŸ’“
æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ğŸ’“
æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ğŸ’“
æœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡-_-
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://121rh.com/feed_rss_updated.xml" target="_blank" rel="noopener" title="RSSè®¢é˜…" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M25.57 176.1C12.41 175.4.912 185.2.052 198.4s9.173 24.65 22.39 25.5c120.1 7.875 225.7 112.7 233.6 233.6C256.9 470.3 267.4 480 279.1 480c.531 0 1.062-.031 1.594-.063 13.22-.843 23.25-12.28 22.39-25.5C294.6 310.3 169.7 185.4 25.57 176.1zM32 32C14.33 32 0 46.31 0 64s14.33 32 32 32c194.1 0 352 157.9 352 352 0 17.69 14.33 32 32 32s32-14.31 32-32C448 218.6 261.4 32 32 32zm31.1 319.9C28.63 351.9 0 380.6 0 416s28.63 64 63.1 64 64.08-28.62 64.08-64-27.81-64.1-64.08-64.1z"/></svg>
    </a>
  
    
    
    <a href="mailto:<fyabwz@126.com>" target="_blank" rel="noopener" title="å‘é€é‚®ä»¶" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m511.6 36.86-64 415.1a32.008 32.008 0 0 1-31.65 27.147c-4.188 0-8.319-.815-12.29-2.472l-122.6-51.1-50.86 76.29C226.3 508.5 219.8 512 212.8 512c-11.5 0-20.8-9.3-20.8-20.8v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96 122.3 360.3 19.69 317.5C8.438 312.8.812 302.2.062 289.1s5.47-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"/></svg>
    </a>
  
    
    
    <a href="https://gitee.com/fya666" target="_blank" rel="noopener" title="Giteeåœ°å€" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="https://weibo.com/fyawbz" target="_blank" rel="noopener" title="å¾®åšè”ç³»æˆ‘å“Ÿ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg>
    </a>
  
    
    
    <a href="tencent://message/?Menu=yes&uin=1434090053&Service=300&sigT=45a1e5847943b64c6ff3990f8a9e644d2b31356cb0b4ac6b24663a3c8dd0f8aa12a595b1714f9d45" target="_blank" rel="noopener" title="QQè”ç³»æˆ‘å“Ÿ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg>
    </a>
  
    
    
    <a href="/life/weixin/" target="_blank" rel="noopener" title="å¾®ä¿¡è”ç³»æˆ‘å“Ÿ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
        <script src="https://js.121rh.com/js/extra.js"></script>
      
        <script src="https://js.121rh.com/js/video.min.js"></script>
      
        <script src="https://js.121rh.com/js/vue.js"></script>
      
        <script src="https://js.121rh.com/js/time.js"></script>
      
        <script src="https://js.121rh.com/js/console.js"></script>
      
        <script src="https://js.121rh.com/js/anime.min.js"></script>
      
        <script src="https://js.121rh.com/js/jquery-3.3.1.min.js"></script>
      
        <script src="https://js.121rh.com/js/G-CHY1TBZZVW.js"></script>
      
        <script src="https://js.121rh.com/js/G-NRCPMZGDT9.js"></script>
      
        <script src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
    

  </body>
</html>